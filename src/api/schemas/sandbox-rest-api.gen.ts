/**
 * Generated by orval v7.17.2 üç∫
 * Do not edit manually.
 * Buddy API
 * OpenAPI spec version: 1.2
 */
import * as zod from "zod";

/**
 * @summary Get all sandboxes in the workspace for a specific project
 */
export const getSandboxesParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
});

export const getSandboxesQueryParams = zod.object({
	project_name: zod
		.string()
		.describe("The human-readable ID of the project to filter sandboxes"),
});

export const getSandboxesResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	sandboxes: zod
		.array(
			zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					id: zod.string().optional().describe("The ID of the sandbox"),
					identifier: zod
						.string()
						.optional()
						.describe(
							"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
						),
					name: zod.string().optional().describe("The name of the sandbox"),
					status: zod
						.enum([
							"STARTING",
							"STOPPING",
							"FAILED",
							"RUNNING",
							"STOPPED",
							"RESTORING",
						])
						.optional()
						.describe("The current status of the sandbox"),
				})
				.describe("Sandbox reference"),
		)
		.optional(),
});

/**
 * @summary Create a new sandbox
 */
export const addSandboxParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
});

export const addSandboxQueryParams = zod.object({
	project_name: zod
		.string()
		.describe("The human-readable ID of the project to filter sandboxes"),
});

export const addSandboxBody = zod.union([
	zod.object({
		source_sandbox_id: zod.string().describe("The ID of the sandbox to clone"),
		name: zod.string().describe("The name of the sandbox"),
		identifier: zod
			.string()
			.optional()
			.describe(
				"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
			),
	}),
	zod.object({
		snapshot_id: zod.string().describe("The ID of the snapshot to create from"),
		name: zod.string().describe("The name of the sandbox"),
		identifier: zod
			.string()
			.optional()
			.describe(
				"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
			),
		os: zod
			.string()
			.optional()
			.describe(
				'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
			),
		resources: zod
			.enum([
				"1x2",
				"2x4",
				"3x6",
				"4x8",
				"5x10",
				"6x12",
				"7x14",
				"8x16",
				"9x18",
				"10x20",
				"11x22",
				"12x24",
				"CUSTOM",
			])
			.optional()
			.describe("The resource configuration of the sandbox (CPU x RAM)"),
		install_commands: zod
			.string()
			.optional()
			.describe("The commands to run during setup of the sandbox"),
		run_command: zod
			.string()
			.optional()
			.describe("The run command of the sandbox"),
		app_dir: zod
			.string()
			.optional()
			.describe("The application directory of the sandbox"),
		app_type: zod
			.enum(["CMD", "SERVICE"])
			.optional()
			.describe(
				"The application type of the sandbox (passed command or existent service eg. apache2)",
			),
		tags: zod
			.array(
				zod.string().describe("The list of tags associated with the sandbox"),
			)
			.optional()
			.describe("The list of tags associated with the sandbox"),
		endpoints: zod
			.array(
				zod.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					name: zod.string().describe("The name of the tunnel"),
					endpoint: zod.string().describe("The endpoint URL of the tunnel"),
					type: zod
						.enum(["TCP", "TLS", "HTTP", "SSH"])
						.describe("The type of the tunnel"),
					region: zod
						.enum(["US", "EU", "AS"])
						.describe("The region where the tunnel is deployed"),
					whitelist: zod
						.array(zod.string())
						.optional()
						.describe(
							"The IP addresses or domains allowed to access the tunnel",
						),
					timeout: zod
						.number()
						.optional()
						.describe("The connection timeout of the tunnel in seconds"),
					http: zod
						.object({
							url: zod
								.string()
								.optional()
								.describe("API endpoint to GET this object"),
							html_url: zod
								.string()
								.optional()
								.describe("Web URL to view this object in Buddy.works"),
							verify_certificate: zod
								.boolean()
								.optional()
								.describe("Whether to verify SSL/TLS certificates"),
							compression: zod
								.boolean()
								.optional()
								.describe("Enable HTTP compression"),
							http2: zod
								.boolean()
								.optional()
								.describe("Enable HTTP/2 protocol support"),
							log_requests: zod
								.boolean()
								.optional()
								.describe("Log incoming HTTP requests"),
							request_headers: zod
								.array(zod.record(zod.string(), zod.string()))
								.optional()
								.describe("Custom HTTP headers to add to requests"),
							whitelist_user_agents: zod
								.array(zod.string())
								.optional()
								.describe("List of allowed User-Agent strings"),
							rewrite_host_header: zod
								.string()
								.optional()
								.describe("Rewrite the Host header to this value"),
							response_headers: zod
								.array(zod.record(zod.string(), zod.string()))
								.optional()
								.describe("Custom HTTP headers to add to responses"),
							login: zod
								.string()
								.optional()
								.describe("Basic authentication username"),
							password: zod
								.string()
								.optional()
								.describe("Basic authentication password"),
							tls_ca: zod
								.string()
								.optional()
								.describe("Custom TLS Certificate Authority"),
							circuit_breaker: zod
								.number()
								.optional()
								.describe(
									"Circuit breaker threshold (number of failed requests)",
								),
							serve_path: zod
								.string()
								.optional()
								.describe("Base path for serving requests"),
							auth_type: zod
								.enum(["NONE", "BASIC", "BUDDY"])
								.optional()
								.describe("Type of authentication used"),
						})
						.optional()
						.describe("The HTTP-specific settings of the tunnel"),
					tls: zod
						.object({
							url: zod
								.string()
								.optional()
								.describe("API endpoint to GET this object"),
							html_url: zod
								.string()
								.optional()
								.describe("Web URL to view this object in Buddy.works"),
							private_key: zod
								.string()
								.optional()
								.describe("Private key for TLS certificate"),
							certificate: zod.string().optional().describe("TLS certificate"),
							ca_certificate: zod
								.string()
								.optional()
								.describe("Certificate Authority certificate"),
							terminate_at: zod
								.enum(["REGION", "AGENT", "TARGET"])
								.optional()
								.describe("Where to terminate TLS connection"),
						})
						.optional()
						.describe("The TLS/SSL encryption settings of the tunnel"),
					endpoint_url: zod
						.string()
						.optional()
						.describe("The url of the tunnel"),
				}),
			)
			.optional()
			.describe("The tunnel endpoints of the sandbox"),
		variables: zod
			.array(
				zod
					.object({
						id: zod.number().optional().describe("The ID of the variable"),
						key: zod.string().optional().describe("The name of the variable"),
						value: zod
							.string()
							.optional()
							.describe("The value of the variable"),
						type: zod
							.enum([
								"VAR",
								"FILE",
								"SSH_KEY",
								"IOS_KEYCHAIN",
								"IOS_PROVISION_PROFILES",
								"SSH_PUBLIC_KEY",
								"GPG_KEY",
							])
							.optional()
							.describe(
								"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
							),
						encrypted: zod
							.boolean()
							.optional()
							.describe(
								"If set to `true` the variable value will be encrypted and hidden",
							),
						settable: zod
							.boolean()
							.optional()
							.describe(
								"If set to `true` the variable value can be set by Buddy actions",
							),
						run_only_settable: zod
							.boolean()
							.optional()
							.describe(
								"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
							),
						description: zod
							.string()
							.optional()
							.describe("The optional description of the variable"),
						init_path: zod
							.string()
							.optional()
							.describe("Initial path for the variable"),
						defaults: zod
							.string()
							.optional()
							.describe("Default value for the variable"),
						file_path: zod
							.string()
							.optional()
							.describe(
								"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
							),
						file_chmod: zod
							.string()
							.optional()
							.describe(
								"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
							),
						file_place: zod
							.enum(["NONE", "CONTAINER"])
							.optional()
							.describe(
								"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
							),
						binary: zod
							.boolean()
							.optional()
							.describe("Whether the file is binary"),
						public_value: zod
							.string()
							.optional()
							.describe("Public value for SSH key type variables"),
						key_fingerprint: zod
							.string()
							.optional()
							.describe("Fingerprint of SSH key"),
						checksum: zod
							.string()
							.optional()
							.describe("Checksum of the variable value"),
						password: zod
							.string()
							.optional()
							.describe("Password for certificates"),
						passphrase: zod
							.string()
							.optional()
							.describe("Passphrase for encrypted SSH keys"),
						key_identifier: zod
							.string()
							.optional()
							.describe("GPG key identifier"),
					})
					.describe("The list of variables you can use the action"),
			)
			.optional()
			.describe("The environment variables of the sandbox"),
	}),
	zod.object({
		name: zod.string().describe("The name of the sandbox"),
		identifier: zod
			.string()
			.optional()
			.describe(
				"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
			),
		os: zod
			.string()
			.describe(
				'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
			),
		resources: zod
			.enum([
				"1x2",
				"2x4",
				"3x6",
				"4x8",
				"5x10",
				"6x12",
				"7x14",
				"8x16",
				"9x18",
				"10x20",
				"11x22",
				"12x24",
				"CUSTOM",
			])
			.optional()
			.describe("The resource configuration of the sandbox (CPU x RAM)"),
		install_commands: zod
			.string()
			.optional()
			.describe("The commands to run during setup of the sandbox"),
		run_command: zod
			.string()
			.optional()
			.describe("The run command of the sandbox"),
		app_dir: zod
			.string()
			.optional()
			.describe("The application directory of the sandbox"),
		app_type: zod
			.enum(["CMD", "SERVICE"])
			.optional()
			.describe(
				"The application type of the sandbox (passed command or existent service eg. apache2)",
			),
		tags: zod
			.array(
				zod.string().describe("The list of tags associated with the sandbox"),
			)
			.optional()
			.describe("The list of tags associated with the sandbox"),
		endpoints: zod
			.array(
				zod.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					name: zod.string().describe("The name of the tunnel"),
					endpoint: zod.string().describe("The endpoint URL of the tunnel"),
					type: zod
						.enum(["TCP", "TLS", "HTTP", "SSH"])
						.describe("The type of the tunnel"),
					region: zod
						.enum(["US", "EU", "AS"])
						.describe("The region where the tunnel is deployed"),
					whitelist: zod
						.array(zod.string())
						.optional()
						.describe(
							"The IP addresses or domains allowed to access the tunnel",
						),
					timeout: zod
						.number()
						.optional()
						.describe("The connection timeout of the tunnel in seconds"),
					http: zod
						.object({
							url: zod
								.string()
								.optional()
								.describe("API endpoint to GET this object"),
							html_url: zod
								.string()
								.optional()
								.describe("Web URL to view this object in Buddy.works"),
							verify_certificate: zod
								.boolean()
								.optional()
								.describe("Whether to verify SSL/TLS certificates"),
							compression: zod
								.boolean()
								.optional()
								.describe("Enable HTTP compression"),
							http2: zod
								.boolean()
								.optional()
								.describe("Enable HTTP/2 protocol support"),
							log_requests: zod
								.boolean()
								.optional()
								.describe("Log incoming HTTP requests"),
							request_headers: zod
								.array(zod.record(zod.string(), zod.string()))
								.optional()
								.describe("Custom HTTP headers to add to requests"),
							whitelist_user_agents: zod
								.array(zod.string())
								.optional()
								.describe("List of allowed User-Agent strings"),
							rewrite_host_header: zod
								.string()
								.optional()
								.describe("Rewrite the Host header to this value"),
							response_headers: zod
								.array(zod.record(zod.string(), zod.string()))
								.optional()
								.describe("Custom HTTP headers to add to responses"),
							login: zod
								.string()
								.optional()
								.describe("Basic authentication username"),
							password: zod
								.string()
								.optional()
								.describe("Basic authentication password"),
							tls_ca: zod
								.string()
								.optional()
								.describe("Custom TLS Certificate Authority"),
							circuit_breaker: zod
								.number()
								.optional()
								.describe(
									"Circuit breaker threshold (number of failed requests)",
								),
							serve_path: zod
								.string()
								.optional()
								.describe("Base path for serving requests"),
							auth_type: zod
								.enum(["NONE", "BASIC", "BUDDY"])
								.optional()
								.describe("Type of authentication used"),
						})
						.optional()
						.describe("The HTTP-specific settings of the tunnel"),
					tls: zod
						.object({
							url: zod
								.string()
								.optional()
								.describe("API endpoint to GET this object"),
							html_url: zod
								.string()
								.optional()
								.describe("Web URL to view this object in Buddy.works"),
							private_key: zod
								.string()
								.optional()
								.describe("Private key for TLS certificate"),
							certificate: zod.string().optional().describe("TLS certificate"),
							ca_certificate: zod
								.string()
								.optional()
								.describe("Certificate Authority certificate"),
							terminate_at: zod
								.enum(["REGION", "AGENT", "TARGET"])
								.optional()
								.describe("Where to terminate TLS connection"),
						})
						.optional()
						.describe("The TLS/SSL encryption settings of the tunnel"),
					endpoint_url: zod
						.string()
						.optional()
						.describe("The url of the tunnel"),
				}),
			)
			.optional()
			.describe("The tunnel endpoints of the sandbox"),
		variables: zod
			.array(
				zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						key: zod.string().describe("The name of the variable"),
						value: zod
							.string()
							.optional()
							.describe("The value of the variable"),
						settable: zod
							.boolean()
							.optional()
							.describe(
								"If set to `true` the variable value can be set by Buddy actions",
							),
						run_only_settable: zod
							.boolean()
							.optional()
							.describe(
								"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
							),
						encrypted: zod
							.boolean()
							.optional()
							.describe(
								"If set to `true` the variable value will be encrypted and hidden",
							),
						description: zod
							.string()
							.optional()
							.describe("The optional description of the variable"),
						init_path: zod
							.string()
							.optional()
							.describe("Initial path for the variable"),
						defaults: zod
							.string()
							.optional()
							.describe("Default value for the variable"),
						file_path: zod
							.string()
							.optional()
							.describe(
								"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
							),
						file_chmod: zod
							.string()
							.optional()
							.describe(
								"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
							),
						file_place: zod
							.enum(["NONE", "CONTAINER"])
							.optional()
							.describe(
								"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
							),
						password: zod
							.string()
							.optional()
							.describe("Password for certificates"),
						passphrase: zod
							.string()
							.optional()
							.describe("Passphrase for encrypted SSH keys"),
						key_identifier: zod
							.string()
							.optional()
							.describe("GPG key identifier"),
						type: zod
							.enum([
								"VAR",
								"FILE",
								"SSH_KEY",
								"IOS_KEYCHAIN",
								"IOS_PROVISION_PROFILES",
								"SSH_PUBLIC_KEY",
								"GPG_KEY",
							])
							.describe(
								"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
							),
					})
					.describe("The environment variables of the sandbox"),
			)
			.optional()
			.describe("The environment variables of the sandbox"),
	}),
]);

/**
 * @summary Get a specific sandbox by ID
 */
export const getSandboxParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	id: zod.string().describe("The ID of the sandbox"),
});

export const getSandboxResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the sandbox"),
	identifier: zod
		.string()
		.optional()
		.describe(
			"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
		),
	name: zod.string().optional().describe("The name of the sandbox"),
	status: zod
		.enum(["STARTING", "STOPPING", "FAILED", "RUNNING", "STOPPED", "RESTORING"])
		.optional()
		.describe("The current status of the sandbox"),
	os: zod
		.string()
		.optional()
		.describe(
			'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
		),
	resources: zod
		.enum([
			"1x2",
			"2x4",
			"3x6",
			"4x8",
			"5x10",
			"6x12",
			"7x14",
			"8x16",
			"9x18",
			"10x20",
			"11x22",
			"12x24",
			"CUSTOM",
		])
		.optional()
		.describe("The resource configuration of the sandbox (CPU x RAM)"),
	install_commands: zod
		.string()
		.optional()
		.describe("The commands to run during setup of the sandbox"),
	run_command: zod
		.string()
		.optional()
		.describe("The run command of the sandbox"),
	app_dir: zod
		.string()
		.optional()
		.describe("The application directory of the sandbox"),
	app_type: zod
		.enum(["CMD", "SERVICE"])
		.optional()
		.describe(
			"The application type of the sandbox (passed command or existent service eg. apache2)",
		),
	tags: zod
		.array(zod.string())
		.optional()
		.describe("The list of tags associated with the sandbox"),
	app_status: zod
		.enum(["NONE", "RUNNING", "ENDED", "FAILED"])
		.optional()
		.describe("The current application status of the sandbox"),
	boot_logs: zod
		.array(zod.string())
		.optional()
		.describe("The boot logs of the sandbox"),
	setup_status: zod
		.enum(["INPROGRESS", "SUCCESS", "FAILED"])
		.optional()
		.describe("The current setup status of the sandbox"),
	endpoints: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				name: zod.string().describe("The name of the tunnel"),
				endpoint: zod.string().describe("The endpoint URL of the tunnel"),
				type: zod
					.enum(["TCP", "TLS", "HTTP", "SSH"])
					.describe("The type of the tunnel"),
				region: zod
					.enum(["US", "EU", "AS"])
					.describe("The region where the tunnel is deployed"),
				whitelist: zod
					.array(zod.string())
					.optional()
					.describe("The IP addresses or domains allowed to access the tunnel"),
				timeout: zod
					.number()
					.optional()
					.describe("The connection timeout of the tunnel in seconds"),
				http: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						verify_certificate: zod
							.boolean()
							.optional()
							.describe("Whether to verify SSL/TLS certificates"),
						compression: zod
							.boolean()
							.optional()
							.describe("Enable HTTP compression"),
						http2: zod
							.boolean()
							.optional()
							.describe("Enable HTTP/2 protocol support"),
						log_requests: zod
							.boolean()
							.optional()
							.describe("Log incoming HTTP requests"),
						request_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to requests"),
						whitelist_user_agents: zod
							.array(zod.string())
							.optional()
							.describe("List of allowed User-Agent strings"),
						rewrite_host_header: zod
							.string()
							.optional()
							.describe("Rewrite the Host header to this value"),
						response_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to responses"),
						login: zod
							.string()
							.optional()
							.describe("Basic authentication username"),
						password: zod
							.string()
							.optional()
							.describe("Basic authentication password"),
						tls_ca: zod
							.string()
							.optional()
							.describe("Custom TLS Certificate Authority"),
						circuit_breaker: zod
							.number()
							.optional()
							.describe(
								"Circuit breaker threshold (number of failed requests)",
							),
						serve_path: zod
							.string()
							.optional()
							.describe("Base path for serving requests"),
						auth_type: zod
							.enum(["NONE", "BASIC", "BUDDY"])
							.optional()
							.describe("Type of authentication used"),
					})
					.optional()
					.describe("The HTTP-specific settings of the tunnel"),
				tls: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						private_key: zod
							.string()
							.optional()
							.describe("Private key for TLS certificate"),
						certificate: zod.string().optional().describe("TLS certificate"),
						ca_certificate: zod
							.string()
							.optional()
							.describe("Certificate Authority certificate"),
						terminate_at: zod
							.enum(["REGION", "AGENT", "TARGET"])
							.optional()
							.describe("Where to terminate TLS connection"),
					})
					.optional()
					.describe("The TLS/SSL encryption settings of the tunnel"),
				endpoint_url: zod.string().optional().describe("The url of the tunnel"),
			}),
		)
		.optional()
		.describe("The tunnel endpoints of the sandbox"),
	project: zod
		.object({
			url: zod.string().optional().describe("API endpoint to GET this object"),
			html_url: zod
				.string()
				.optional()
				.describe("Web URL to view this object in Buddy.works"),
			name: zod
				.string()
				.optional()
				.describe("The human-readable ID of the project"),
			display_name: zod.string().describe("The Name of the project"),
			status: zod.string().optional().describe("The status of the project"),
			access: zod
				.enum(["PRIVATE", "PUBLIC"])
				.optional()
				.describe("Indicates if this is a public project"),
			create_date: zod.iso
				.datetime({})
				.optional()
				.describe("The creation date of the project"),
			external_project_id: zod
				.string()
				.optional()
				.describe(
					"Repo slug of the Bitbucket, GitHub or GitLab project. Required when adding the integrated project",
				),
			git_lab_project_id: zod
				.number()
				.optional()
				.describe("ID of the project in GitLab"),
			custom_repo_url: zod
				.string()
				.optional()
				.describe(
					"SSH or HTTPS url of the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_user: zod
				.string()
				.optional()
				.describe(
					"Username used to authorize access to the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_pass: zod
				.string()
				.optional()
				.describe(
					"Password used to authorize access to the git repository. Required when adding the project integrated with custom git repository and the provided `custom_repo_url` is the HTTPS url",
				),
			custom_repo_ssh_key_id: zod
				.number()
				.optional()
				.describe(
					"The ID of the private SSH key used to authorize access to the git repository. Required when adding the project integrated with private git server by SSH url",
				),
			created_by: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					id: zod.number().optional().describe("The ID of the user"),
					name: zod.string().optional().describe("The name of the user"),
					avatar_url: zod
						.string()
						.optional()
						.describe("The avatar URL of the user"),
					email: zod
						.string()
						.optional()
						.describe("The email address of the user"),
					admin: zod
						.boolean()
						.optional()
						.describe("Whether the user has admin privileges"),
					workspace_owner: zod
						.boolean()
						.optional()
						.describe("Whether the user is workspace owner"),
				})
				.optional()
				.describe("User/member reference"),
			http_repository: zod
				.string()
				.optional()
				.describe("The HTTP repository URL"),
			ssh_repository: zod
				.string()
				.optional()
				.describe("The SSH repository URL"),
			default_branch: zod
				.string()
				.optional()
				.describe("The default branch name"),
			integration: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					identifier: zod
						.string()
						.optional()
						.describe("A human-readable ID of the integration"),
					hash_id: zod
						.string()
						.optional()
						.describe("The unique hash ID of the integration"),
					name: zod.string().optional().describe("The name of the integration"),
					type: zod
						.enum([
							"GIT_HUB",
							"BITBUCKET",
							"GOOGLE",
							"DIGITAL_OCEAN",
							"SLACK",
							"MODULUS",
							"HEROKU",
							"AMAZON",
							"GIT_LAB",
							"SHOPIFY",
							"GIT_HUB_ENTERPRISE",
							"GIT_LAB_ENTERPRISE",
							"PUSHOVER",
							"PUSHBULLET",
							"RACKSPACE",
							"CUSTOM",
							"CLOUDFLARE",
							"NEW_RELIC",
							"SENTRY",
							"ROLLBAR",
							"DATADOG",
							"DO_SPACES",
							"HONEYBADGER",
							"VULTR",
							"SENTRY_ENTERPRISE",
							"LOGGLY",
							"HIP_CHAT",
							"FIREBASE",
							"TELEGRAM",
							"AZURE",
							"UPCLOUD",
							"GHOST_INSPECTOR",
							"NETLIFY",
							"AZURE_CLOUD",
							"MICROSOFT_TEAMS",
							"GOOGLE_SERVICE_ACCOUNT",
							"GOOGLE_PLAY_STORE",
							"DOCKER_HUB",
							"APP_STORE",
							"GIT_HUB_APP",
							"GIT_HUB_APP_ENTERPRISE",
							"GIT_HUB_API",
							"ATOP",
							"SNYK",
							"STACK_HAWK",
							"BLACKFIRE",
							"BACKBLAZE",
							"ONE_LOGIN",
							"OKTA",
							"CONTENTFUL",
						])
						.optional()
						.describe("The type of integration"),
					auth_type: zod
						.enum([
							"OAUTH",
							"TOKEN",
							"API_KEY",
							"APP",
							"APP_SPRYKER",
							"TOKEN_APP_EXTENSION",
							"DEFAULT",
							"OIDC",
							"TRUSTED",
							"APP_RW",
						])
						.optional()
						.describe("The authentication method used by the integration"),
					host_url: zod
						.string()
						.optional()
						.describe("The host URL for custom integrations"),
					webhook_address: zod
						.string()
						.optional()
						.describe("The webhook URL for receiving notifications"),
					atop_url: zod.string().optional().describe("The ATOP service URL"),
					app_id: zod
						.string()
						.optional()
						.describe("The application ID for Azure Cloud integrations"),
					google_project: zod
						.string()
						.optional()
						.describe("The Google Cloud project ID"),
					audience: zod
						.string()
						.optional()
						.describe("The JWT audience for token validation"),
				})
				.optional()
				.describe("Integration reference"),
			fetch_submodules: zod
				.boolean()
				.optional()
				.describe(
					"Defines whether the submodules are fetched during the runs in this project",
				),
			fetch_submodules_env_key: zod
				.string()
				.optional()
				.describe(
					"Name of the key that will be used to authorize while fetching the submodules. Required when `fetch_submodules` is set to `true`",
				),
			allow_pull_requests: zod
				.boolean()
				.optional()
				.describe(
					"Enables/disables pull requests in the project. Available only for projects synchronized with GitHub or GitHub Enterprise repository",
				),
			update_default_branch_from_external: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the default branch will be updated from GitHub/GitLab/Bitbucket.",
				),
			without_repository: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the project is created without any repository attached.",
				),
		})
		.optional(),
	variables: zod
		.array(
			zod
				.object({
					id: zod.number().optional().describe("The ID of the variable"),
					key: zod.string().optional().describe("The name of the variable"),
					value: zod.string().optional().describe("The value of the variable"),
					type: zod
						.enum([
							"VAR",
							"FILE",
							"SSH_KEY",
							"IOS_KEYCHAIN",
							"IOS_PROVISION_PROFILES",
							"SSH_PUBLIC_KEY",
							"GPG_KEY",
						])
						.optional()
						.describe(
							"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
						),
					encrypted: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value will be encrypted and hidden",
						),
					settable: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value can be set by Buddy actions",
						),
					run_only_settable: zod
						.boolean()
						.optional()
						.describe(
							"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
						),
					description: zod
						.string()
						.optional()
						.describe("The optional description of the variable"),
					init_path: zod
						.string()
						.optional()
						.describe("Initial path for the variable"),
					defaults: zod
						.string()
						.optional()
						.describe("Default value for the variable"),
					file_path: zod
						.string()
						.optional()
						.describe(
							"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
						),
					file_chmod: zod
						.string()
						.optional()
						.describe(
							"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
						),
					file_place: zod
						.enum(["NONE", "CONTAINER"])
						.optional()
						.describe(
							"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
						),
					binary: zod
						.boolean()
						.optional()
						.describe("Whether the file is binary"),
					public_value: zod
						.string()
						.optional()
						.describe("Public value for SSH key type variables"),
					key_fingerprint: zod
						.string()
						.optional()
						.describe("Fingerprint of SSH key"),
					checksum: zod
						.string()
						.optional()
						.describe("Checksum of the variable value"),
					password: zod
						.string()
						.optional()
						.describe("Password for certificates"),
					passphrase: zod
						.string()
						.optional()
						.describe("Passphrase for encrypted SSH keys"),
					key_identifier: zod
						.string()
						.optional()
						.describe("GPG key identifier"),
				})
				.describe("The list of variables you can use the action"),
		)
		.optional()
		.describe("The environment variables of the sandbox"),
});

/**
 * @summary Delete a sandbox
 */
export const deleteSandboxParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	id: zod.string().describe("The ID of the sandbox"),
});

/**
 * @summary Update sandbox configuration
 */
export const updateSandboxParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	id: zod.string().describe("The ID of the sandbox"),
});

export const updateSandboxBody = zod.object({
	name: zod.string().optional().describe("The name of the sandbox"),
	identifier: zod
		.string()
		.optional()
		.describe(
			"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
		),
	resources: zod
		.enum([
			"1x2",
			"2x4",
			"3x6",
			"4x8",
			"5x10",
			"6x12",
			"7x14",
			"8x16",
			"9x18",
			"10x20",
			"11x22",
			"12x24",
			"CUSTOM",
		])
		.optional()
		.describe("The resource configuration of the sandbox (CPU x RAM)"),
	install_commands: zod
		.string()
		.optional()
		.describe("The commands to run during setup of the sandbox"),
	run_command: zod
		.string()
		.optional()
		.describe("The run command of the sandbox"),
	app_dir: zod
		.string()
		.optional()
		.describe("The application directory of the sandbox"),
	app_type: zod
		.enum(["CMD", "SERVICE"])
		.optional()
		.describe(
			"The application type of the sandbox (passed command or existent service eg. apache2)",
		),
	tags: zod
		.array(
			zod.string().describe("The list of tags associated with the sandbox"),
		)
		.optional()
		.describe("The list of tags associated with the sandbox"),
	endpoints: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				name: zod.string().describe("The name of the tunnel"),
				endpoint: zod.string().describe("The endpoint URL of the tunnel"),
				type: zod
					.enum(["TCP", "TLS", "HTTP", "SSH"])
					.describe("The type of the tunnel"),
				region: zod
					.enum(["US", "EU", "AS"])
					.describe("The region where the tunnel is deployed"),
				whitelist: zod
					.array(zod.string())
					.optional()
					.describe("The IP addresses or domains allowed to access the tunnel"),
				timeout: zod
					.number()
					.optional()
					.describe("The connection timeout of the tunnel in seconds"),
				http: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						verify_certificate: zod
							.boolean()
							.optional()
							.describe("Whether to verify SSL/TLS certificates"),
						compression: zod
							.boolean()
							.optional()
							.describe("Enable HTTP compression"),
						http2: zod
							.boolean()
							.optional()
							.describe("Enable HTTP/2 protocol support"),
						log_requests: zod
							.boolean()
							.optional()
							.describe("Log incoming HTTP requests"),
						request_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to requests"),
						whitelist_user_agents: zod
							.array(zod.string())
							.optional()
							.describe("List of allowed User-Agent strings"),
						rewrite_host_header: zod
							.string()
							.optional()
							.describe("Rewrite the Host header to this value"),
						response_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to responses"),
						login: zod
							.string()
							.optional()
							.describe("Basic authentication username"),
						password: zod
							.string()
							.optional()
							.describe("Basic authentication password"),
						tls_ca: zod
							.string()
							.optional()
							.describe("Custom TLS Certificate Authority"),
						circuit_breaker: zod
							.number()
							.optional()
							.describe(
								"Circuit breaker threshold (number of failed requests)",
							),
						serve_path: zod
							.string()
							.optional()
							.describe("Base path for serving requests"),
						auth_type: zod
							.enum(["NONE", "BASIC", "BUDDY"])
							.optional()
							.describe("Type of authentication used"),
					})
					.optional()
					.describe("The HTTP-specific settings of the tunnel"),
				tls: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						private_key: zod
							.string()
							.optional()
							.describe("Private key for TLS certificate"),
						certificate: zod.string().optional().describe("TLS certificate"),
						ca_certificate: zod
							.string()
							.optional()
							.describe("Certificate Authority certificate"),
						terminate_at: zod
							.enum(["REGION", "AGENT", "TARGET"])
							.optional()
							.describe("Where to terminate TLS connection"),
					})
					.optional()
					.describe("The TLS/SSL encryption settings of the tunnel"),
				endpoint_url: zod.string().optional().describe("The url of the tunnel"),
			}),
		)
		.optional()
		.describe("The tunnel endpoints of the sandbox"),
	variables: zod
		.array(
			zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					key: zod.string().describe("The name of the variable"),
					value: zod.string().optional().describe("The value of the variable"),
					settable: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value can be set by Buddy actions",
						),
					run_only_settable: zod
						.boolean()
						.optional()
						.describe(
							"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
						),
					encrypted: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value will be encrypted and hidden",
						),
					description: zod
						.string()
						.optional()
						.describe("The optional description of the variable"),
					init_path: zod
						.string()
						.optional()
						.describe("Initial path for the variable"),
					defaults: zod
						.string()
						.optional()
						.describe("Default value for the variable"),
					file_path: zod
						.string()
						.optional()
						.describe(
							"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
						),
					file_chmod: zod
						.string()
						.optional()
						.describe(
							"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
						),
					file_place: zod
						.enum(["NONE", "CONTAINER"])
						.optional()
						.describe(
							"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
						),
					password: zod
						.string()
						.optional()
						.describe("Password for certificates"),
					passphrase: zod
						.string()
						.optional()
						.describe("Passphrase for encrypted SSH keys"),
					key_identifier: zod
						.string()
						.optional()
						.describe("GPG key identifier"),
					type: zod
						.enum([
							"VAR",
							"FILE",
							"SSH_KEY",
							"IOS_KEYCHAIN",
							"IOS_PROVISION_PROFILES",
							"SSH_PUBLIC_KEY",
							"GPG_KEY",
						])
						.describe(
							"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
						),
				})
				.describe("The environment variables of the sandbox"),
		)
		.optional()
		.describe("The environment variables of the sandbox"),
});

export const updateSandboxResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the sandbox"),
	identifier: zod
		.string()
		.optional()
		.describe(
			"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
		),
	name: zod.string().optional().describe("The name of the sandbox"),
	status: zod
		.enum(["STARTING", "STOPPING", "FAILED", "RUNNING", "STOPPED", "RESTORING"])
		.optional()
		.describe("The current status of the sandbox"),
	os: zod
		.string()
		.optional()
		.describe(
			'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
		),
	resources: zod
		.enum([
			"1x2",
			"2x4",
			"3x6",
			"4x8",
			"5x10",
			"6x12",
			"7x14",
			"8x16",
			"9x18",
			"10x20",
			"11x22",
			"12x24",
			"CUSTOM",
		])
		.optional()
		.describe("The resource configuration of the sandbox (CPU x RAM)"),
	install_commands: zod
		.string()
		.optional()
		.describe("The commands to run during setup of the sandbox"),
	run_command: zod
		.string()
		.optional()
		.describe("The run command of the sandbox"),
	app_dir: zod
		.string()
		.optional()
		.describe("The application directory of the sandbox"),
	app_type: zod
		.enum(["CMD", "SERVICE"])
		.optional()
		.describe(
			"The application type of the sandbox (passed command or existent service eg. apache2)",
		),
	tags: zod
		.array(zod.string())
		.optional()
		.describe("The list of tags associated with the sandbox"),
	app_status: zod
		.enum(["NONE", "RUNNING", "ENDED", "FAILED"])
		.optional()
		.describe("The current application status of the sandbox"),
	boot_logs: zod
		.array(zod.string())
		.optional()
		.describe("The boot logs of the sandbox"),
	setup_status: zod
		.enum(["INPROGRESS", "SUCCESS", "FAILED"])
		.optional()
		.describe("The current setup status of the sandbox"),
	endpoints: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				name: zod.string().describe("The name of the tunnel"),
				endpoint: zod.string().describe("The endpoint URL of the tunnel"),
				type: zod
					.enum(["TCP", "TLS", "HTTP", "SSH"])
					.describe("The type of the tunnel"),
				region: zod
					.enum(["US", "EU", "AS"])
					.describe("The region where the tunnel is deployed"),
				whitelist: zod
					.array(zod.string())
					.optional()
					.describe("The IP addresses or domains allowed to access the tunnel"),
				timeout: zod
					.number()
					.optional()
					.describe("The connection timeout of the tunnel in seconds"),
				http: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						verify_certificate: zod
							.boolean()
							.optional()
							.describe("Whether to verify SSL/TLS certificates"),
						compression: zod
							.boolean()
							.optional()
							.describe("Enable HTTP compression"),
						http2: zod
							.boolean()
							.optional()
							.describe("Enable HTTP/2 protocol support"),
						log_requests: zod
							.boolean()
							.optional()
							.describe("Log incoming HTTP requests"),
						request_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to requests"),
						whitelist_user_agents: zod
							.array(zod.string())
							.optional()
							.describe("List of allowed User-Agent strings"),
						rewrite_host_header: zod
							.string()
							.optional()
							.describe("Rewrite the Host header to this value"),
						response_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to responses"),
						login: zod
							.string()
							.optional()
							.describe("Basic authentication username"),
						password: zod
							.string()
							.optional()
							.describe("Basic authentication password"),
						tls_ca: zod
							.string()
							.optional()
							.describe("Custom TLS Certificate Authority"),
						circuit_breaker: zod
							.number()
							.optional()
							.describe(
								"Circuit breaker threshold (number of failed requests)",
							),
						serve_path: zod
							.string()
							.optional()
							.describe("Base path for serving requests"),
						auth_type: zod
							.enum(["NONE", "BASIC", "BUDDY"])
							.optional()
							.describe("Type of authentication used"),
					})
					.optional()
					.describe("The HTTP-specific settings of the tunnel"),
				tls: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						private_key: zod
							.string()
							.optional()
							.describe("Private key for TLS certificate"),
						certificate: zod.string().optional().describe("TLS certificate"),
						ca_certificate: zod
							.string()
							.optional()
							.describe("Certificate Authority certificate"),
						terminate_at: zod
							.enum(["REGION", "AGENT", "TARGET"])
							.optional()
							.describe("Where to terminate TLS connection"),
					})
					.optional()
					.describe("The TLS/SSL encryption settings of the tunnel"),
				endpoint_url: zod.string().optional().describe("The url of the tunnel"),
			}),
		)
		.optional()
		.describe("The tunnel endpoints of the sandbox"),
	project: zod
		.object({
			url: zod.string().optional().describe("API endpoint to GET this object"),
			html_url: zod
				.string()
				.optional()
				.describe("Web URL to view this object in Buddy.works"),
			name: zod
				.string()
				.optional()
				.describe("The human-readable ID of the project"),
			display_name: zod.string().describe("The Name of the project"),
			status: zod.string().optional().describe("The status of the project"),
			access: zod
				.enum(["PRIVATE", "PUBLIC"])
				.optional()
				.describe("Indicates if this is a public project"),
			create_date: zod.iso
				.datetime({})
				.optional()
				.describe("The creation date of the project"),
			external_project_id: zod
				.string()
				.optional()
				.describe(
					"Repo slug of the Bitbucket, GitHub or GitLab project. Required when adding the integrated project",
				),
			git_lab_project_id: zod
				.number()
				.optional()
				.describe("ID of the project in GitLab"),
			custom_repo_url: zod
				.string()
				.optional()
				.describe(
					"SSH or HTTPS url of the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_user: zod
				.string()
				.optional()
				.describe(
					"Username used to authorize access to the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_pass: zod
				.string()
				.optional()
				.describe(
					"Password used to authorize access to the git repository. Required when adding the project integrated with custom git repository and the provided `custom_repo_url` is the HTTPS url",
				),
			custom_repo_ssh_key_id: zod
				.number()
				.optional()
				.describe(
					"The ID of the private SSH key used to authorize access to the git repository. Required when adding the project integrated with private git server by SSH url",
				),
			created_by: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					id: zod.number().optional().describe("The ID of the user"),
					name: zod.string().optional().describe("The name of the user"),
					avatar_url: zod
						.string()
						.optional()
						.describe("The avatar URL of the user"),
					email: zod
						.string()
						.optional()
						.describe("The email address of the user"),
					admin: zod
						.boolean()
						.optional()
						.describe("Whether the user has admin privileges"),
					workspace_owner: zod
						.boolean()
						.optional()
						.describe("Whether the user is workspace owner"),
				})
				.optional()
				.describe("User/member reference"),
			http_repository: zod
				.string()
				.optional()
				.describe("The HTTP repository URL"),
			ssh_repository: zod
				.string()
				.optional()
				.describe("The SSH repository URL"),
			default_branch: zod
				.string()
				.optional()
				.describe("The default branch name"),
			integration: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					identifier: zod
						.string()
						.optional()
						.describe("A human-readable ID of the integration"),
					hash_id: zod
						.string()
						.optional()
						.describe("The unique hash ID of the integration"),
					name: zod.string().optional().describe("The name of the integration"),
					type: zod
						.enum([
							"GIT_HUB",
							"BITBUCKET",
							"GOOGLE",
							"DIGITAL_OCEAN",
							"SLACK",
							"MODULUS",
							"HEROKU",
							"AMAZON",
							"GIT_LAB",
							"SHOPIFY",
							"GIT_HUB_ENTERPRISE",
							"GIT_LAB_ENTERPRISE",
							"PUSHOVER",
							"PUSHBULLET",
							"RACKSPACE",
							"CUSTOM",
							"CLOUDFLARE",
							"NEW_RELIC",
							"SENTRY",
							"ROLLBAR",
							"DATADOG",
							"DO_SPACES",
							"HONEYBADGER",
							"VULTR",
							"SENTRY_ENTERPRISE",
							"LOGGLY",
							"HIP_CHAT",
							"FIREBASE",
							"TELEGRAM",
							"AZURE",
							"UPCLOUD",
							"GHOST_INSPECTOR",
							"NETLIFY",
							"AZURE_CLOUD",
							"MICROSOFT_TEAMS",
							"GOOGLE_SERVICE_ACCOUNT",
							"GOOGLE_PLAY_STORE",
							"DOCKER_HUB",
							"APP_STORE",
							"GIT_HUB_APP",
							"GIT_HUB_APP_ENTERPRISE",
							"GIT_HUB_API",
							"ATOP",
							"SNYK",
							"STACK_HAWK",
							"BLACKFIRE",
							"BACKBLAZE",
							"ONE_LOGIN",
							"OKTA",
							"CONTENTFUL",
						])
						.optional()
						.describe("The type of integration"),
					auth_type: zod
						.enum([
							"OAUTH",
							"TOKEN",
							"API_KEY",
							"APP",
							"APP_SPRYKER",
							"TOKEN_APP_EXTENSION",
							"DEFAULT",
							"OIDC",
							"TRUSTED",
							"APP_RW",
						])
						.optional()
						.describe("The authentication method used by the integration"),
					host_url: zod
						.string()
						.optional()
						.describe("The host URL for custom integrations"),
					webhook_address: zod
						.string()
						.optional()
						.describe("The webhook URL for receiving notifications"),
					atop_url: zod.string().optional().describe("The ATOP service URL"),
					app_id: zod
						.string()
						.optional()
						.describe("The application ID for Azure Cloud integrations"),
					google_project: zod
						.string()
						.optional()
						.describe("The Google Cloud project ID"),
					audience: zod
						.string()
						.optional()
						.describe("The JWT audience for token validation"),
				})
				.optional()
				.describe("Integration reference"),
			fetch_submodules: zod
				.boolean()
				.optional()
				.describe(
					"Defines whether the submodules are fetched during the runs in this project",
				),
			fetch_submodules_env_key: zod
				.string()
				.optional()
				.describe(
					"Name of the key that will be used to authorize while fetching the submodules. Required when `fetch_submodules` is set to `true`",
				),
			allow_pull_requests: zod
				.boolean()
				.optional()
				.describe(
					"Enables/disables pull requests in the project. Available only for projects synchronized with GitHub or GitHub Enterprise repository",
				),
			update_default_branch_from_external: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the default branch will be updated from GitHub/GitLab/Bitbucket.",
				),
			without_repository: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the project is created without any repository attached.",
				),
		})
		.optional(),
	variables: zod
		.array(
			zod
				.object({
					id: zod.number().optional().describe("The ID of the variable"),
					key: zod.string().optional().describe("The name of the variable"),
					value: zod.string().optional().describe("The value of the variable"),
					type: zod
						.enum([
							"VAR",
							"FILE",
							"SSH_KEY",
							"IOS_KEYCHAIN",
							"IOS_PROVISION_PROFILES",
							"SSH_PUBLIC_KEY",
							"GPG_KEY",
						])
						.optional()
						.describe(
							"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
						),
					encrypted: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value will be encrypted and hidden",
						),
					settable: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value can be set by Buddy actions",
						),
					run_only_settable: zod
						.boolean()
						.optional()
						.describe(
							"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
						),
					description: zod
						.string()
						.optional()
						.describe("The optional description of the variable"),
					init_path: zod
						.string()
						.optional()
						.describe("Initial path for the variable"),
					defaults: zod
						.string()
						.optional()
						.describe("Default value for the variable"),
					file_path: zod
						.string()
						.optional()
						.describe(
							"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
						),
					file_chmod: zod
						.string()
						.optional()
						.describe(
							"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
						),
					file_place: zod
						.enum(["NONE", "CONTAINER"])
						.optional()
						.describe(
							"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
						),
					binary: zod
						.boolean()
						.optional()
						.describe("Whether the file is binary"),
					public_value: zod
						.string()
						.optional()
						.describe("Public value for SSH key type variables"),
					key_fingerprint: zod
						.string()
						.optional()
						.describe("Fingerprint of SSH key"),
					checksum: zod
						.string()
						.optional()
						.describe("Checksum of the variable value"),
					password: zod
						.string()
						.optional()
						.describe("Password for certificates"),
					passphrase: zod
						.string()
						.optional()
						.describe("Passphrase for encrypted SSH keys"),
					key_identifier: zod
						.string()
						.optional()
						.describe("GPG key identifier"),
				})
				.describe("The list of variables you can use the action"),
		)
		.optional()
		.describe("The environment variables of the sandbox"),
});

/**
 * @summary Get application logs from a sandbox
 */
export const getSandboxAppLogsParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const getSandboxAppLogsQueryParams = zod.object({
	cursor: zod.string().optional().describe("Cursor for pagination"),
});

export const getSandboxAppLogsResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	cursor: zod.string().optional().describe("Cursor for pagination"),
	logs: zod.array(zod.string()).optional().describe("Application log entries"),
});

/**
 * @summary Get all commands executed in a sandbox
 */
export const getSandboxCommandsParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const getSandboxCommandsResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	commands: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				id: zod.string().optional().describe("The ID of the command"),
				command: zod
					.string()
					.optional()
					.describe("Command to execute in the sandbox"),
				runtime: zod
					.enum(["BASH", "JAVASCRIPT", "TYPESCRIPT", "PYTHON"])
					.optional()
					.describe(
						"Runtime environment for command execution (default: `BASH`)",
					),
				status: zod
					.enum(["INPROGRESS", "SUCCESSFUL", "FAILED"])
					.optional()
					.describe("Command execution status"),
				exit_code: zod.number().optional().describe("Command exit code"),
				logs_url: zod
					.string()
					.optional()
					.describe("API endpoint URL to retrieve logs for this command"),
			}),
		)
		.optional(),
});

/**
 * @summary Execute a command in a sandbox
 */
export const executeSandboxCommandParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const executeSandboxCommandBody = zod.object({
	command: zod.string().describe("Command to execute in the sandbox"),
	runtime: zod
		.enum(["BASH", "JAVASCRIPT", "TYPESCRIPT", "PYTHON"])
		.optional()
		.describe("Runtime environment for command execution (default: `BASH`)"),
});

export const executeSandboxCommandResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the command"),
	command: zod
		.string()
		.optional()
		.describe("Command to execute in the sandbox"),
	runtime: zod
		.enum(["BASH", "JAVASCRIPT", "TYPESCRIPT", "PYTHON"])
		.optional()
		.describe("Runtime environment for command execution (default: `BASH`)"),
	status: zod
		.enum(["INPROGRESS", "SUCCESSFUL", "FAILED"])
		.optional()
		.describe("Command execution status"),
	exit_code: zod.number().optional().describe("Command exit code"),
	logs_url: zod
		.string()
		.optional()
		.describe("API endpoint URL to retrieve logs for this command"),
});

/**
 * @summary Get a specific command execution details
 */
export const getSandboxCommandParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
	id: zod.string().describe("The ID of the command"),
});

export const getSandboxCommandResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the command"),
	command: zod
		.string()
		.optional()
		.describe("Command to execute in the sandbox"),
	runtime: zod
		.enum(["BASH", "JAVASCRIPT", "TYPESCRIPT", "PYTHON"])
		.optional()
		.describe("Runtime environment for command execution (default: `BASH`)"),
	status: zod
		.enum(["INPROGRESS", "SUCCESSFUL", "FAILED"])
		.optional()
		.describe("Command execution status"),
	exit_code: zod.number().optional().describe("Command exit code"),
	logs_url: zod
		.string()
		.optional()
		.describe("API endpoint URL to retrieve logs for this command"),
});

/**
 * @summary Get logs from a specific command execution
 */
export const getSandboxCommandLogsParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
	command_id: zod.string().describe("The ID of the command"),
});

/**
 * @summary Terminate a running command in a sandbox
 */
export const terminateSandboxCommandParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
	command_id: zod.string().describe("The ID of the command"),
});

export const terminateSandboxCommandResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the command"),
	command: zod
		.string()
		.optional()
		.describe("Command to execute in the sandbox"),
	runtime: zod
		.enum(["BASH", "JAVASCRIPT", "TYPESCRIPT", "PYTHON"])
		.optional()
		.describe("Runtime environment for command execution (default: `BASH`)"),
	status: zod
		.enum(["INPROGRESS", "SUCCESSFUL", "FAILED"])
		.optional()
		.describe("Command execution status"),
	exit_code: zod.number().optional().describe("Command exit code"),
	logs_url: zod
		.string()
		.optional()
		.describe("API endpoint URL to retrieve logs for this command"),
});

/**
 * Get the contents of a directory or file metadata at the specified path in a sandbox. The sandbox must be running.
 * @summary Get sandbox content by path
 */
export const getSandboxContentPathPathRegExp = new RegExp(".*");

export const getSandboxContentParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
	path: zod
		.string()
		.regex(getSandboxContentPathPathRegExp)
		.describe(
			"Absolute path to the file or directory. Recommended directory is `/buddy`",
		),
});

export const getSandboxContentResponse = zod
	.object({
		url: zod.string().optional().describe("API endpoint to GET this object"),
		html_url: zod
			.string()
			.optional()
			.describe("Web URL to view this object in Buddy.works"),
		contents: zod
			.array(
				zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						type: zod
							.enum(["FILE", "DIR"])
							.optional()
							.describe("The content type (FILE or DIR)"),
						name: zod
							.string()
							.optional()
							.describe("The name of the file or directory"),
						path: zod
							.string()
							.optional()
							.describe("The path to the file or directory"),
						size: zod
							.number()
							.optional()
							.describe("The size of the file in bytes"),
					})
					.describe("Content item in a sandbox"),
			)
			.optional()
			.describe("List of content items in the directory"),
	})
	.describe("Sandbox content listing");

/**
 * Upload a file to a specific path in a sandbox. The sandbox must be running.
 * @summary Upload a file to a sandbox
 */
export const uploadSandboxFilePathPathRegExp = new RegExp(".*");

export const uploadSandboxFileParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
	path: zod
		.string()
		.regex(uploadSandboxFilePathPathRegExp)
		.describe(
			"Absolute path where the file should be uploaded. Recommended directory is `/buddy`",
		),
});

export const uploadSandboxFileBody = zod.instanceof(File);

/**
 * @summary Restart a sandbox
 */
export const restartSandboxParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const restartSandboxResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the sandbox"),
	identifier: zod
		.string()
		.optional()
		.describe(
			"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
		),
	name: zod.string().optional().describe("The name of the sandbox"),
	status: zod
		.enum(["STARTING", "STOPPING", "FAILED", "RUNNING", "STOPPED", "RESTORING"])
		.optional()
		.describe("The current status of the sandbox"),
	os: zod
		.string()
		.optional()
		.describe(
			'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
		),
	resources: zod
		.enum([
			"1x2",
			"2x4",
			"3x6",
			"4x8",
			"5x10",
			"6x12",
			"7x14",
			"8x16",
			"9x18",
			"10x20",
			"11x22",
			"12x24",
			"CUSTOM",
		])
		.optional()
		.describe("The resource configuration of the sandbox (CPU x RAM)"),
	install_commands: zod
		.string()
		.optional()
		.describe("The commands to run during setup of the sandbox"),
	run_command: zod
		.string()
		.optional()
		.describe("The run command of the sandbox"),
	app_dir: zod
		.string()
		.optional()
		.describe("The application directory of the sandbox"),
	app_type: zod
		.enum(["CMD", "SERVICE"])
		.optional()
		.describe(
			"The application type of the sandbox (passed command or existent service eg. apache2)",
		),
	tags: zod
		.array(zod.string())
		.optional()
		.describe("The list of tags associated with the sandbox"),
	app_status: zod
		.enum(["NONE", "RUNNING", "ENDED", "FAILED"])
		.optional()
		.describe("The current application status of the sandbox"),
	boot_logs: zod
		.array(zod.string())
		.optional()
		.describe("The boot logs of the sandbox"),
	setup_status: zod
		.enum(["INPROGRESS", "SUCCESS", "FAILED"])
		.optional()
		.describe("The current setup status of the sandbox"),
	endpoints: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				name: zod.string().describe("The name of the tunnel"),
				endpoint: zod.string().describe("The endpoint URL of the tunnel"),
				type: zod
					.enum(["TCP", "TLS", "HTTP", "SSH"])
					.describe("The type of the tunnel"),
				region: zod
					.enum(["US", "EU", "AS"])
					.describe("The region where the tunnel is deployed"),
				whitelist: zod
					.array(zod.string())
					.optional()
					.describe("The IP addresses or domains allowed to access the tunnel"),
				timeout: zod
					.number()
					.optional()
					.describe("The connection timeout of the tunnel in seconds"),
				http: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						verify_certificate: zod
							.boolean()
							.optional()
							.describe("Whether to verify SSL/TLS certificates"),
						compression: zod
							.boolean()
							.optional()
							.describe("Enable HTTP compression"),
						http2: zod
							.boolean()
							.optional()
							.describe("Enable HTTP/2 protocol support"),
						log_requests: zod
							.boolean()
							.optional()
							.describe("Log incoming HTTP requests"),
						request_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to requests"),
						whitelist_user_agents: zod
							.array(zod.string())
							.optional()
							.describe("List of allowed User-Agent strings"),
						rewrite_host_header: zod
							.string()
							.optional()
							.describe("Rewrite the Host header to this value"),
						response_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to responses"),
						login: zod
							.string()
							.optional()
							.describe("Basic authentication username"),
						password: zod
							.string()
							.optional()
							.describe("Basic authentication password"),
						tls_ca: zod
							.string()
							.optional()
							.describe("Custom TLS Certificate Authority"),
						circuit_breaker: zod
							.number()
							.optional()
							.describe(
								"Circuit breaker threshold (number of failed requests)",
							),
						serve_path: zod
							.string()
							.optional()
							.describe("Base path for serving requests"),
						auth_type: zod
							.enum(["NONE", "BASIC", "BUDDY"])
							.optional()
							.describe("Type of authentication used"),
					})
					.optional()
					.describe("The HTTP-specific settings of the tunnel"),
				tls: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						private_key: zod
							.string()
							.optional()
							.describe("Private key for TLS certificate"),
						certificate: zod.string().optional().describe("TLS certificate"),
						ca_certificate: zod
							.string()
							.optional()
							.describe("Certificate Authority certificate"),
						terminate_at: zod
							.enum(["REGION", "AGENT", "TARGET"])
							.optional()
							.describe("Where to terminate TLS connection"),
					})
					.optional()
					.describe("The TLS/SSL encryption settings of the tunnel"),
				endpoint_url: zod.string().optional().describe("The url of the tunnel"),
			}),
		)
		.optional()
		.describe("The tunnel endpoints of the sandbox"),
	project: zod
		.object({
			url: zod.string().optional().describe("API endpoint to GET this object"),
			html_url: zod
				.string()
				.optional()
				.describe("Web URL to view this object in Buddy.works"),
			name: zod
				.string()
				.optional()
				.describe("The human-readable ID of the project"),
			display_name: zod.string().describe("The Name of the project"),
			status: zod.string().optional().describe("The status of the project"),
			access: zod
				.enum(["PRIVATE", "PUBLIC"])
				.optional()
				.describe("Indicates if this is a public project"),
			create_date: zod.iso
				.datetime({})
				.optional()
				.describe("The creation date of the project"),
			external_project_id: zod
				.string()
				.optional()
				.describe(
					"Repo slug of the Bitbucket, GitHub or GitLab project. Required when adding the integrated project",
				),
			git_lab_project_id: zod
				.number()
				.optional()
				.describe("ID of the project in GitLab"),
			custom_repo_url: zod
				.string()
				.optional()
				.describe(
					"SSH or HTTPS url of the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_user: zod
				.string()
				.optional()
				.describe(
					"Username used to authorize access to the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_pass: zod
				.string()
				.optional()
				.describe(
					"Password used to authorize access to the git repository. Required when adding the project integrated with custom git repository and the provided `custom_repo_url` is the HTTPS url",
				),
			custom_repo_ssh_key_id: zod
				.number()
				.optional()
				.describe(
					"The ID of the private SSH key used to authorize access to the git repository. Required when adding the project integrated with private git server by SSH url",
				),
			created_by: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					id: zod.number().optional().describe("The ID of the user"),
					name: zod.string().optional().describe("The name of the user"),
					avatar_url: zod
						.string()
						.optional()
						.describe("The avatar URL of the user"),
					email: zod
						.string()
						.optional()
						.describe("The email address of the user"),
					admin: zod
						.boolean()
						.optional()
						.describe("Whether the user has admin privileges"),
					workspace_owner: zod
						.boolean()
						.optional()
						.describe("Whether the user is workspace owner"),
				})
				.optional()
				.describe("User/member reference"),
			http_repository: zod
				.string()
				.optional()
				.describe("The HTTP repository URL"),
			ssh_repository: zod
				.string()
				.optional()
				.describe("The SSH repository URL"),
			default_branch: zod
				.string()
				.optional()
				.describe("The default branch name"),
			integration: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					identifier: zod
						.string()
						.optional()
						.describe("A human-readable ID of the integration"),
					hash_id: zod
						.string()
						.optional()
						.describe("The unique hash ID of the integration"),
					name: zod.string().optional().describe("The name of the integration"),
					type: zod
						.enum([
							"GIT_HUB",
							"BITBUCKET",
							"GOOGLE",
							"DIGITAL_OCEAN",
							"SLACK",
							"MODULUS",
							"HEROKU",
							"AMAZON",
							"GIT_LAB",
							"SHOPIFY",
							"GIT_HUB_ENTERPRISE",
							"GIT_LAB_ENTERPRISE",
							"PUSHOVER",
							"PUSHBULLET",
							"RACKSPACE",
							"CUSTOM",
							"CLOUDFLARE",
							"NEW_RELIC",
							"SENTRY",
							"ROLLBAR",
							"DATADOG",
							"DO_SPACES",
							"HONEYBADGER",
							"VULTR",
							"SENTRY_ENTERPRISE",
							"LOGGLY",
							"HIP_CHAT",
							"FIREBASE",
							"TELEGRAM",
							"AZURE",
							"UPCLOUD",
							"GHOST_INSPECTOR",
							"NETLIFY",
							"AZURE_CLOUD",
							"MICROSOFT_TEAMS",
							"GOOGLE_SERVICE_ACCOUNT",
							"GOOGLE_PLAY_STORE",
							"DOCKER_HUB",
							"APP_STORE",
							"GIT_HUB_APP",
							"GIT_HUB_APP_ENTERPRISE",
							"GIT_HUB_API",
							"ATOP",
							"SNYK",
							"STACK_HAWK",
							"BLACKFIRE",
							"BACKBLAZE",
							"ONE_LOGIN",
							"OKTA",
							"CONTENTFUL",
						])
						.optional()
						.describe("The type of integration"),
					auth_type: zod
						.enum([
							"OAUTH",
							"TOKEN",
							"API_KEY",
							"APP",
							"APP_SPRYKER",
							"TOKEN_APP_EXTENSION",
							"DEFAULT",
							"OIDC",
							"TRUSTED",
							"APP_RW",
						])
						.optional()
						.describe("The authentication method used by the integration"),
					host_url: zod
						.string()
						.optional()
						.describe("The host URL for custom integrations"),
					webhook_address: zod
						.string()
						.optional()
						.describe("The webhook URL for receiving notifications"),
					atop_url: zod.string().optional().describe("The ATOP service URL"),
					app_id: zod
						.string()
						.optional()
						.describe("The application ID for Azure Cloud integrations"),
					google_project: zod
						.string()
						.optional()
						.describe("The Google Cloud project ID"),
					audience: zod
						.string()
						.optional()
						.describe("The JWT audience for token validation"),
				})
				.optional()
				.describe("Integration reference"),
			fetch_submodules: zod
				.boolean()
				.optional()
				.describe(
					"Defines whether the submodules are fetched during the runs in this project",
				),
			fetch_submodules_env_key: zod
				.string()
				.optional()
				.describe(
					"Name of the key that will be used to authorize while fetching the submodules. Required when `fetch_submodules` is set to `true`",
				),
			allow_pull_requests: zod
				.boolean()
				.optional()
				.describe(
					"Enables/disables pull requests in the project. Available only for projects synchronized with GitHub or GitHub Enterprise repository",
				),
			update_default_branch_from_external: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the default branch will be updated from GitHub/GitLab/Bitbucket.",
				),
			without_repository: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the project is created without any repository attached.",
				),
		})
		.optional(),
	variables: zod
		.array(
			zod
				.object({
					id: zod.number().optional().describe("The ID of the variable"),
					key: zod.string().optional().describe("The name of the variable"),
					value: zod.string().optional().describe("The value of the variable"),
					type: zod
						.enum([
							"VAR",
							"FILE",
							"SSH_KEY",
							"IOS_KEYCHAIN",
							"IOS_PROVISION_PROFILES",
							"SSH_PUBLIC_KEY",
							"GPG_KEY",
						])
						.optional()
						.describe(
							"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
						),
					encrypted: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value will be encrypted and hidden",
						),
					settable: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value can be set by Buddy actions",
						),
					run_only_settable: zod
						.boolean()
						.optional()
						.describe(
							"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
						),
					description: zod
						.string()
						.optional()
						.describe("The optional description of the variable"),
					init_path: zod
						.string()
						.optional()
						.describe("Initial path for the variable"),
					defaults: zod
						.string()
						.optional()
						.describe("Default value for the variable"),
					file_path: zod
						.string()
						.optional()
						.describe(
							"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
						),
					file_chmod: zod
						.string()
						.optional()
						.describe(
							"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
						),
					file_place: zod
						.enum(["NONE", "CONTAINER"])
						.optional()
						.describe(
							"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
						),
					binary: zod
						.boolean()
						.optional()
						.describe("Whether the file is binary"),
					public_value: zod
						.string()
						.optional()
						.describe("Public value for SSH key type variables"),
					key_fingerprint: zod
						.string()
						.optional()
						.describe("Fingerprint of SSH key"),
					checksum: zod
						.string()
						.optional()
						.describe("Checksum of the variable value"),
					password: zod
						.string()
						.optional()
						.describe("Password for certificates"),
					passphrase: zod
						.string()
						.optional()
						.describe("Passphrase for encrypted SSH keys"),
					key_identifier: zod
						.string()
						.optional()
						.describe("GPG key identifier"),
				})
				.describe("The list of variables you can use the action"),
		)
		.optional()
		.describe("The environment variables of the sandbox"),
});

/**
 * @summary Get all snapshots for a sandbox
 */
export const getSandboxSnapshotsParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const getSandboxSnapshotsResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	snapshots: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				id: zod.string().optional().describe("The ID of the snapshot"),
				name: zod.string().optional().describe("Snapshot name"),
				size: zod.number().optional().describe("Snapshot size in GB"),
				status: zod
					.enum(["CREATING", "CREATED", "DELETING", "FAILED"])
					.optional()
					.describe("Snapshot status"),
				create_date: zod.iso
					.datetime({})
					.optional()
					.describe("Snapshot creation date"),
			}),
		)
		.optional()
		.describe("Collection of snapshots"),
});

/**
 * @summary Create a new snapshot of a sandbox
 */
export const addSandboxSnapshotParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const addSandboxSnapshotBody = zod.object({
	name: zod.string().optional().describe("Snapshot name"),
});

/**
 * @summary Get a specific snapshot by ID
 */
export const getSandboxSnapshotParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
	id: zod.string().describe("The ID of the snapshot"),
});

export const getSandboxSnapshotResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the snapshot"),
	name: zod.string().optional().describe("Snapshot name"),
	size: zod.number().optional().describe("Snapshot size in GB"),
	status: zod
		.enum(["CREATING", "CREATED", "DELETING", "FAILED"])
		.optional()
		.describe("Snapshot status"),
	create_date: zod.iso
		.datetime({})
		.optional()
		.describe("Snapshot creation date"),
	created_by: zod
		.object({
			url: zod.string().optional().describe("API endpoint to GET this object"),
			html_url: zod
				.string()
				.optional()
				.describe("Web URL to view this object in Buddy.works"),
			id: zod.number().optional().describe("The ID of the user"),
			name: zod.string().optional().describe("The name of the user"),
			avatar_url: zod
				.string()
				.optional()
				.describe("The avatar URL of the user"),
			email: zod.string().optional().describe("The email address of the user"),
			admin: zod
				.boolean()
				.optional()
				.describe("Whether the user has admin privileges"),
			workspace_owner: zod
				.boolean()
				.optional()
				.describe("Whether the user is workspace owner"),
		})
		.optional()
		.describe("User/member reference"),
});

/**
 * @summary Delete a sandbox snapshot
 */
export const deleteSandboxSnapshotParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
	id: zod.string().describe("The ID of the snapshot"),
});

/**
 * @summary Start a sandbox
 */
export const startSandboxParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const startSandboxResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the sandbox"),
	identifier: zod
		.string()
		.optional()
		.describe(
			"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
		),
	name: zod.string().optional().describe("The name of the sandbox"),
	status: zod
		.enum(["STARTING", "STOPPING", "FAILED", "RUNNING", "STOPPED", "RESTORING"])
		.optional()
		.describe("The current status of the sandbox"),
	os: zod
		.string()
		.optional()
		.describe(
			'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
		),
	resources: zod
		.enum([
			"1x2",
			"2x4",
			"3x6",
			"4x8",
			"5x10",
			"6x12",
			"7x14",
			"8x16",
			"9x18",
			"10x20",
			"11x22",
			"12x24",
			"CUSTOM",
		])
		.optional()
		.describe("The resource configuration of the sandbox (CPU x RAM)"),
	install_commands: zod
		.string()
		.optional()
		.describe("The commands to run during setup of the sandbox"),
	run_command: zod
		.string()
		.optional()
		.describe("The run command of the sandbox"),
	app_dir: zod
		.string()
		.optional()
		.describe("The application directory of the sandbox"),
	app_type: zod
		.enum(["CMD", "SERVICE"])
		.optional()
		.describe(
			"The application type of the sandbox (passed command or existent service eg. apache2)",
		),
	tags: zod
		.array(zod.string())
		.optional()
		.describe("The list of tags associated with the sandbox"),
	app_status: zod
		.enum(["NONE", "RUNNING", "ENDED", "FAILED"])
		.optional()
		.describe("The current application status of the sandbox"),
	boot_logs: zod
		.array(zod.string())
		.optional()
		.describe("The boot logs of the sandbox"),
	setup_status: zod
		.enum(["INPROGRESS", "SUCCESS", "FAILED"])
		.optional()
		.describe("The current setup status of the sandbox"),
	endpoints: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				name: zod.string().describe("The name of the tunnel"),
				endpoint: zod.string().describe("The endpoint URL of the tunnel"),
				type: zod
					.enum(["TCP", "TLS", "HTTP", "SSH"])
					.describe("The type of the tunnel"),
				region: zod
					.enum(["US", "EU", "AS"])
					.describe("The region where the tunnel is deployed"),
				whitelist: zod
					.array(zod.string())
					.optional()
					.describe("The IP addresses or domains allowed to access the tunnel"),
				timeout: zod
					.number()
					.optional()
					.describe("The connection timeout of the tunnel in seconds"),
				http: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						verify_certificate: zod
							.boolean()
							.optional()
							.describe("Whether to verify SSL/TLS certificates"),
						compression: zod
							.boolean()
							.optional()
							.describe("Enable HTTP compression"),
						http2: zod
							.boolean()
							.optional()
							.describe("Enable HTTP/2 protocol support"),
						log_requests: zod
							.boolean()
							.optional()
							.describe("Log incoming HTTP requests"),
						request_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to requests"),
						whitelist_user_agents: zod
							.array(zod.string())
							.optional()
							.describe("List of allowed User-Agent strings"),
						rewrite_host_header: zod
							.string()
							.optional()
							.describe("Rewrite the Host header to this value"),
						response_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to responses"),
						login: zod
							.string()
							.optional()
							.describe("Basic authentication username"),
						password: zod
							.string()
							.optional()
							.describe("Basic authentication password"),
						tls_ca: zod
							.string()
							.optional()
							.describe("Custom TLS Certificate Authority"),
						circuit_breaker: zod
							.number()
							.optional()
							.describe(
								"Circuit breaker threshold (number of failed requests)",
							),
						serve_path: zod
							.string()
							.optional()
							.describe("Base path for serving requests"),
						auth_type: zod
							.enum(["NONE", "BASIC", "BUDDY"])
							.optional()
							.describe("Type of authentication used"),
					})
					.optional()
					.describe("The HTTP-specific settings of the tunnel"),
				tls: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						private_key: zod
							.string()
							.optional()
							.describe("Private key for TLS certificate"),
						certificate: zod.string().optional().describe("TLS certificate"),
						ca_certificate: zod
							.string()
							.optional()
							.describe("Certificate Authority certificate"),
						terminate_at: zod
							.enum(["REGION", "AGENT", "TARGET"])
							.optional()
							.describe("Where to terminate TLS connection"),
					})
					.optional()
					.describe("The TLS/SSL encryption settings of the tunnel"),
				endpoint_url: zod.string().optional().describe("The url of the tunnel"),
			}),
		)
		.optional()
		.describe("The tunnel endpoints of the sandbox"),
	project: zod
		.object({
			url: zod.string().optional().describe("API endpoint to GET this object"),
			html_url: zod
				.string()
				.optional()
				.describe("Web URL to view this object in Buddy.works"),
			name: zod
				.string()
				.optional()
				.describe("The human-readable ID of the project"),
			display_name: zod.string().describe("The Name of the project"),
			status: zod.string().optional().describe("The status of the project"),
			access: zod
				.enum(["PRIVATE", "PUBLIC"])
				.optional()
				.describe("Indicates if this is a public project"),
			create_date: zod.iso
				.datetime({})
				.optional()
				.describe("The creation date of the project"),
			external_project_id: zod
				.string()
				.optional()
				.describe(
					"Repo slug of the Bitbucket, GitHub or GitLab project. Required when adding the integrated project",
				),
			git_lab_project_id: zod
				.number()
				.optional()
				.describe("ID of the project in GitLab"),
			custom_repo_url: zod
				.string()
				.optional()
				.describe(
					"SSH or HTTPS url of the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_user: zod
				.string()
				.optional()
				.describe(
					"Username used to authorize access to the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_pass: zod
				.string()
				.optional()
				.describe(
					"Password used to authorize access to the git repository. Required when adding the project integrated with custom git repository and the provided `custom_repo_url` is the HTTPS url",
				),
			custom_repo_ssh_key_id: zod
				.number()
				.optional()
				.describe(
					"The ID of the private SSH key used to authorize access to the git repository. Required when adding the project integrated with private git server by SSH url",
				),
			created_by: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					id: zod.number().optional().describe("The ID of the user"),
					name: zod.string().optional().describe("The name of the user"),
					avatar_url: zod
						.string()
						.optional()
						.describe("The avatar URL of the user"),
					email: zod
						.string()
						.optional()
						.describe("The email address of the user"),
					admin: zod
						.boolean()
						.optional()
						.describe("Whether the user has admin privileges"),
					workspace_owner: zod
						.boolean()
						.optional()
						.describe("Whether the user is workspace owner"),
				})
				.optional()
				.describe("User/member reference"),
			http_repository: zod
				.string()
				.optional()
				.describe("The HTTP repository URL"),
			ssh_repository: zod
				.string()
				.optional()
				.describe("The SSH repository URL"),
			default_branch: zod
				.string()
				.optional()
				.describe("The default branch name"),
			integration: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					identifier: zod
						.string()
						.optional()
						.describe("A human-readable ID of the integration"),
					hash_id: zod
						.string()
						.optional()
						.describe("The unique hash ID of the integration"),
					name: zod.string().optional().describe("The name of the integration"),
					type: zod
						.enum([
							"GIT_HUB",
							"BITBUCKET",
							"GOOGLE",
							"DIGITAL_OCEAN",
							"SLACK",
							"MODULUS",
							"HEROKU",
							"AMAZON",
							"GIT_LAB",
							"SHOPIFY",
							"GIT_HUB_ENTERPRISE",
							"GIT_LAB_ENTERPRISE",
							"PUSHOVER",
							"PUSHBULLET",
							"RACKSPACE",
							"CUSTOM",
							"CLOUDFLARE",
							"NEW_RELIC",
							"SENTRY",
							"ROLLBAR",
							"DATADOG",
							"DO_SPACES",
							"HONEYBADGER",
							"VULTR",
							"SENTRY_ENTERPRISE",
							"LOGGLY",
							"HIP_CHAT",
							"FIREBASE",
							"TELEGRAM",
							"AZURE",
							"UPCLOUD",
							"GHOST_INSPECTOR",
							"NETLIFY",
							"AZURE_CLOUD",
							"MICROSOFT_TEAMS",
							"GOOGLE_SERVICE_ACCOUNT",
							"GOOGLE_PLAY_STORE",
							"DOCKER_HUB",
							"APP_STORE",
							"GIT_HUB_APP",
							"GIT_HUB_APP_ENTERPRISE",
							"GIT_HUB_API",
							"ATOP",
							"SNYK",
							"STACK_HAWK",
							"BLACKFIRE",
							"BACKBLAZE",
							"ONE_LOGIN",
							"OKTA",
							"CONTENTFUL",
						])
						.optional()
						.describe("The type of integration"),
					auth_type: zod
						.enum([
							"OAUTH",
							"TOKEN",
							"API_KEY",
							"APP",
							"APP_SPRYKER",
							"TOKEN_APP_EXTENSION",
							"DEFAULT",
							"OIDC",
							"TRUSTED",
							"APP_RW",
						])
						.optional()
						.describe("The authentication method used by the integration"),
					host_url: zod
						.string()
						.optional()
						.describe("The host URL for custom integrations"),
					webhook_address: zod
						.string()
						.optional()
						.describe("The webhook URL for receiving notifications"),
					atop_url: zod.string().optional().describe("The ATOP service URL"),
					app_id: zod
						.string()
						.optional()
						.describe("The application ID for Azure Cloud integrations"),
					google_project: zod
						.string()
						.optional()
						.describe("The Google Cloud project ID"),
					audience: zod
						.string()
						.optional()
						.describe("The JWT audience for token validation"),
				})
				.optional()
				.describe("Integration reference"),
			fetch_submodules: zod
				.boolean()
				.optional()
				.describe(
					"Defines whether the submodules are fetched during the runs in this project",
				),
			fetch_submodules_env_key: zod
				.string()
				.optional()
				.describe(
					"Name of the key that will be used to authorize while fetching the submodules. Required when `fetch_submodules` is set to `true`",
				),
			allow_pull_requests: zod
				.boolean()
				.optional()
				.describe(
					"Enables/disables pull requests in the project. Available only for projects synchronized with GitHub or GitHub Enterprise repository",
				),
			update_default_branch_from_external: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the default branch will be updated from GitHub/GitLab/Bitbucket.",
				),
			without_repository: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the project is created without any repository attached.",
				),
		})
		.optional(),
	variables: zod
		.array(
			zod
				.object({
					id: zod.number().optional().describe("The ID of the variable"),
					key: zod.string().optional().describe("The name of the variable"),
					value: zod.string().optional().describe("The value of the variable"),
					type: zod
						.enum([
							"VAR",
							"FILE",
							"SSH_KEY",
							"IOS_KEYCHAIN",
							"IOS_PROVISION_PROFILES",
							"SSH_PUBLIC_KEY",
							"GPG_KEY",
						])
						.optional()
						.describe(
							"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
						),
					encrypted: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value will be encrypted and hidden",
						),
					settable: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value can be set by Buddy actions",
						),
					run_only_settable: zod
						.boolean()
						.optional()
						.describe(
							"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
						),
					description: zod
						.string()
						.optional()
						.describe("The optional description of the variable"),
					init_path: zod
						.string()
						.optional()
						.describe("Initial path for the variable"),
					defaults: zod
						.string()
						.optional()
						.describe("Default value for the variable"),
					file_path: zod
						.string()
						.optional()
						.describe(
							"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
						),
					file_chmod: zod
						.string()
						.optional()
						.describe(
							"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
						),
					file_place: zod
						.enum(["NONE", "CONTAINER"])
						.optional()
						.describe(
							"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
						),
					binary: zod
						.boolean()
						.optional()
						.describe("Whether the file is binary"),
					public_value: zod
						.string()
						.optional()
						.describe("Public value for SSH key type variables"),
					key_fingerprint: zod
						.string()
						.optional()
						.describe("Fingerprint of SSH key"),
					checksum: zod
						.string()
						.optional()
						.describe("Checksum of the variable value"),
					password: zod
						.string()
						.optional()
						.describe("Password for certificates"),
					passphrase: zod
						.string()
						.optional()
						.describe("Passphrase for encrypted SSH keys"),
					key_identifier: zod
						.string()
						.optional()
						.describe("GPG key identifier"),
				})
				.describe("The list of variables you can use the action"),
		)
		.optional()
		.describe("The environment variables of the sandbox"),
});

/**
 * @summary Stop a sandbox
 */
export const stopSandboxParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const stopSandboxResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the sandbox"),
	identifier: zod
		.string()
		.optional()
		.describe(
			"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
		),
	name: zod.string().optional().describe("The name of the sandbox"),
	status: zod
		.enum(["STARTING", "STOPPING", "FAILED", "RUNNING", "STOPPED", "RESTORING"])
		.optional()
		.describe("The current status of the sandbox"),
	os: zod
		.string()
		.optional()
		.describe(
			'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
		),
	resources: zod
		.enum([
			"1x2",
			"2x4",
			"3x6",
			"4x8",
			"5x10",
			"6x12",
			"7x14",
			"8x16",
			"9x18",
			"10x20",
			"11x22",
			"12x24",
			"CUSTOM",
		])
		.optional()
		.describe("The resource configuration of the sandbox (CPU x RAM)"),
	install_commands: zod
		.string()
		.optional()
		.describe("The commands to run during setup of the sandbox"),
	run_command: zod
		.string()
		.optional()
		.describe("The run command of the sandbox"),
	app_dir: zod
		.string()
		.optional()
		.describe("The application directory of the sandbox"),
	app_type: zod
		.enum(["CMD", "SERVICE"])
		.optional()
		.describe(
			"The application type of the sandbox (passed command or existent service eg. apache2)",
		),
	tags: zod
		.array(zod.string())
		.optional()
		.describe("The list of tags associated with the sandbox"),
	app_status: zod
		.enum(["NONE", "RUNNING", "ENDED", "FAILED"])
		.optional()
		.describe("The current application status of the sandbox"),
	boot_logs: zod
		.array(zod.string())
		.optional()
		.describe("The boot logs of the sandbox"),
	setup_status: zod
		.enum(["INPROGRESS", "SUCCESS", "FAILED"])
		.optional()
		.describe("The current setup status of the sandbox"),
	endpoints: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				name: zod.string().describe("The name of the tunnel"),
				endpoint: zod.string().describe("The endpoint URL of the tunnel"),
				type: zod
					.enum(["TCP", "TLS", "HTTP", "SSH"])
					.describe("The type of the tunnel"),
				region: zod
					.enum(["US", "EU", "AS"])
					.describe("The region where the tunnel is deployed"),
				whitelist: zod
					.array(zod.string())
					.optional()
					.describe("The IP addresses or domains allowed to access the tunnel"),
				timeout: zod
					.number()
					.optional()
					.describe("The connection timeout of the tunnel in seconds"),
				http: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						verify_certificate: zod
							.boolean()
							.optional()
							.describe("Whether to verify SSL/TLS certificates"),
						compression: zod
							.boolean()
							.optional()
							.describe("Enable HTTP compression"),
						http2: zod
							.boolean()
							.optional()
							.describe("Enable HTTP/2 protocol support"),
						log_requests: zod
							.boolean()
							.optional()
							.describe("Log incoming HTTP requests"),
						request_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to requests"),
						whitelist_user_agents: zod
							.array(zod.string())
							.optional()
							.describe("List of allowed User-Agent strings"),
						rewrite_host_header: zod
							.string()
							.optional()
							.describe("Rewrite the Host header to this value"),
						response_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to responses"),
						login: zod
							.string()
							.optional()
							.describe("Basic authentication username"),
						password: zod
							.string()
							.optional()
							.describe("Basic authentication password"),
						tls_ca: zod
							.string()
							.optional()
							.describe("Custom TLS Certificate Authority"),
						circuit_breaker: zod
							.number()
							.optional()
							.describe(
								"Circuit breaker threshold (number of failed requests)",
							),
						serve_path: zod
							.string()
							.optional()
							.describe("Base path for serving requests"),
						auth_type: zod
							.enum(["NONE", "BASIC", "BUDDY"])
							.optional()
							.describe("Type of authentication used"),
					})
					.optional()
					.describe("The HTTP-specific settings of the tunnel"),
				tls: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						private_key: zod
							.string()
							.optional()
							.describe("Private key for TLS certificate"),
						certificate: zod.string().optional().describe("TLS certificate"),
						ca_certificate: zod
							.string()
							.optional()
							.describe("Certificate Authority certificate"),
						terminate_at: zod
							.enum(["REGION", "AGENT", "TARGET"])
							.optional()
							.describe("Where to terminate TLS connection"),
					})
					.optional()
					.describe("The TLS/SSL encryption settings of the tunnel"),
				endpoint_url: zod.string().optional().describe("The url of the tunnel"),
			}),
		)
		.optional()
		.describe("The tunnel endpoints of the sandbox"),
	project: zod
		.object({
			url: zod.string().optional().describe("API endpoint to GET this object"),
			html_url: zod
				.string()
				.optional()
				.describe("Web URL to view this object in Buddy.works"),
			name: zod
				.string()
				.optional()
				.describe("The human-readable ID of the project"),
			display_name: zod.string().describe("The Name of the project"),
			status: zod.string().optional().describe("The status of the project"),
			access: zod
				.enum(["PRIVATE", "PUBLIC"])
				.optional()
				.describe("Indicates if this is a public project"),
			create_date: zod.iso
				.datetime({})
				.optional()
				.describe("The creation date of the project"),
			external_project_id: zod
				.string()
				.optional()
				.describe(
					"Repo slug of the Bitbucket, GitHub or GitLab project. Required when adding the integrated project",
				),
			git_lab_project_id: zod
				.number()
				.optional()
				.describe("ID of the project in GitLab"),
			custom_repo_url: zod
				.string()
				.optional()
				.describe(
					"SSH or HTTPS url of the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_user: zod
				.string()
				.optional()
				.describe(
					"Username used to authorize access to the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_pass: zod
				.string()
				.optional()
				.describe(
					"Password used to authorize access to the git repository. Required when adding the project integrated with custom git repository and the provided `custom_repo_url` is the HTTPS url",
				),
			custom_repo_ssh_key_id: zod
				.number()
				.optional()
				.describe(
					"The ID of the private SSH key used to authorize access to the git repository. Required when adding the project integrated with private git server by SSH url",
				),
			created_by: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					id: zod.number().optional().describe("The ID of the user"),
					name: zod.string().optional().describe("The name of the user"),
					avatar_url: zod
						.string()
						.optional()
						.describe("The avatar URL of the user"),
					email: zod
						.string()
						.optional()
						.describe("The email address of the user"),
					admin: zod
						.boolean()
						.optional()
						.describe("Whether the user has admin privileges"),
					workspace_owner: zod
						.boolean()
						.optional()
						.describe("Whether the user is workspace owner"),
				})
				.optional()
				.describe("User/member reference"),
			http_repository: zod
				.string()
				.optional()
				.describe("The HTTP repository URL"),
			ssh_repository: zod
				.string()
				.optional()
				.describe("The SSH repository URL"),
			default_branch: zod
				.string()
				.optional()
				.describe("The default branch name"),
			integration: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					identifier: zod
						.string()
						.optional()
						.describe("A human-readable ID of the integration"),
					hash_id: zod
						.string()
						.optional()
						.describe("The unique hash ID of the integration"),
					name: zod.string().optional().describe("The name of the integration"),
					type: zod
						.enum([
							"GIT_HUB",
							"BITBUCKET",
							"GOOGLE",
							"DIGITAL_OCEAN",
							"SLACK",
							"MODULUS",
							"HEROKU",
							"AMAZON",
							"GIT_LAB",
							"SHOPIFY",
							"GIT_HUB_ENTERPRISE",
							"GIT_LAB_ENTERPRISE",
							"PUSHOVER",
							"PUSHBULLET",
							"RACKSPACE",
							"CUSTOM",
							"CLOUDFLARE",
							"NEW_RELIC",
							"SENTRY",
							"ROLLBAR",
							"DATADOG",
							"DO_SPACES",
							"HONEYBADGER",
							"VULTR",
							"SENTRY_ENTERPRISE",
							"LOGGLY",
							"HIP_CHAT",
							"FIREBASE",
							"TELEGRAM",
							"AZURE",
							"UPCLOUD",
							"GHOST_INSPECTOR",
							"NETLIFY",
							"AZURE_CLOUD",
							"MICROSOFT_TEAMS",
							"GOOGLE_SERVICE_ACCOUNT",
							"GOOGLE_PLAY_STORE",
							"DOCKER_HUB",
							"APP_STORE",
							"GIT_HUB_APP",
							"GIT_HUB_APP_ENTERPRISE",
							"GIT_HUB_API",
							"ATOP",
							"SNYK",
							"STACK_HAWK",
							"BLACKFIRE",
							"BACKBLAZE",
							"ONE_LOGIN",
							"OKTA",
							"CONTENTFUL",
						])
						.optional()
						.describe("The type of integration"),
					auth_type: zod
						.enum([
							"OAUTH",
							"TOKEN",
							"API_KEY",
							"APP",
							"APP_SPRYKER",
							"TOKEN_APP_EXTENSION",
							"DEFAULT",
							"OIDC",
							"TRUSTED",
							"APP_RW",
						])
						.optional()
						.describe("The authentication method used by the integration"),
					host_url: zod
						.string()
						.optional()
						.describe("The host URL for custom integrations"),
					webhook_address: zod
						.string()
						.optional()
						.describe("The webhook URL for receiving notifications"),
					atop_url: zod.string().optional().describe("The ATOP service URL"),
					app_id: zod
						.string()
						.optional()
						.describe("The application ID for Azure Cloud integrations"),
					google_project: zod
						.string()
						.optional()
						.describe("The Google Cloud project ID"),
					audience: zod
						.string()
						.optional()
						.describe("The JWT audience for token validation"),
				})
				.optional()
				.describe("Integration reference"),
			fetch_submodules: zod
				.boolean()
				.optional()
				.describe(
					"Defines whether the submodules are fetched during the runs in this project",
				),
			fetch_submodules_env_key: zod
				.string()
				.optional()
				.describe(
					"Name of the key that will be used to authorize while fetching the submodules. Required when `fetch_submodules` is set to `true`",
				),
			allow_pull_requests: zod
				.boolean()
				.optional()
				.describe(
					"Enables/disables pull requests in the project. Available only for projects synchronized with GitHub or GitHub Enterprise repository",
				),
			update_default_branch_from_external: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the default branch will be updated from GitHub/GitLab/Bitbucket.",
				),
			without_repository: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the project is created without any repository attached.",
				),
		})
		.optional(),
	variables: zod
		.array(
			zod
				.object({
					id: zod.number().optional().describe("The ID of the variable"),
					key: zod.string().optional().describe("The name of the variable"),
					value: zod.string().optional().describe("The value of the variable"),
					type: zod
						.enum([
							"VAR",
							"FILE",
							"SSH_KEY",
							"IOS_KEYCHAIN",
							"IOS_PROVISION_PROFILES",
							"SSH_PUBLIC_KEY",
							"GPG_KEY",
						])
						.optional()
						.describe(
							"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
						),
					encrypted: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value will be encrypted and hidden",
						),
					settable: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value can be set by Buddy actions",
						),
					run_only_settable: zod
						.boolean()
						.optional()
						.describe(
							"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
						),
					description: zod
						.string()
						.optional()
						.describe("The optional description of the variable"),
					init_path: zod
						.string()
						.optional()
						.describe("Initial path for the variable"),
					defaults: zod
						.string()
						.optional()
						.describe("Default value for the variable"),
					file_path: zod
						.string()
						.optional()
						.describe(
							"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
						),
					file_chmod: zod
						.string()
						.optional()
						.describe(
							"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
						),
					file_place: zod
						.enum(["NONE", "CONTAINER"])
						.optional()
						.describe(
							"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
						),
					binary: zod
						.boolean()
						.optional()
						.describe("Whether the file is binary"),
					public_value: zod
						.string()
						.optional()
						.describe("Public value for SSH key type variables"),
					key_fingerprint: zod
						.string()
						.optional()
						.describe("Fingerprint of SSH key"),
					checksum: zod
						.string()
						.optional()
						.describe("Checksum of the variable value"),
					password: zod
						.string()
						.optional()
						.describe("Password for certificates"),
					passphrase: zod
						.string()
						.optional()
						.describe("Passphrase for encrypted SSH keys"),
					key_identifier: zod
						.string()
						.optional()
						.describe("GPG key identifier"),
				})
				.describe("The list of variables you can use the action"),
		)
		.optional()
		.describe("The environment variables of the sandbox"),
});

/**
 * @summary Get sandbox configuration as YAML
 */
export const getSandboxYamlParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const getSandboxYamlResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	yaml: zod
		.string()
		.optional()
		.describe("The base64-encoded YAML configuration of the sandbox"),
});

/**
 * @summary Update sandbox configuration using YAML
 */
export const updateSandboxByYamlParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	sandbox_id: zod.string().describe("The ID of the sandbox"),
});

export const updateSandboxByYamlBody = zod.object({
	yaml: zod
		.string()
		.optional()
		.describe("The base64-encoded YAML configuration of the sandbox"),
});

export const updateSandboxByYamlResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	id: zod.string().optional().describe("The ID of the sandbox"),
	identifier: zod
		.string()
		.optional()
		.describe(
			"A human-readable ID. Alphanumeric characters, underscores, and hyphens (hyphens cannot appear at the start or end).",
		),
	name: zod.string().optional().describe("The name of the sandbox"),
	status: zod
		.enum(["STARTING", "STOPPING", "FAILED", "RUNNING", "STOPPED", "RESTORING"])
		.optional()
		.describe("The current status of the sandbox"),
	os: zod
		.string()
		.optional()
		.describe(
			'The operating system of the sandbox [\"ubuntu:22.04\", \"ubuntu:24.04\"]',
		),
	resources: zod
		.enum([
			"1x2",
			"2x4",
			"3x6",
			"4x8",
			"5x10",
			"6x12",
			"7x14",
			"8x16",
			"9x18",
			"10x20",
			"11x22",
			"12x24",
			"CUSTOM",
		])
		.optional()
		.describe("The resource configuration of the sandbox (CPU x RAM)"),
	install_commands: zod
		.string()
		.optional()
		.describe("The commands to run during setup of the sandbox"),
	run_command: zod
		.string()
		.optional()
		.describe("The run command of the sandbox"),
	app_dir: zod
		.string()
		.optional()
		.describe("The application directory of the sandbox"),
	app_type: zod
		.enum(["CMD", "SERVICE"])
		.optional()
		.describe(
			"The application type of the sandbox (passed command or existent service eg. apache2)",
		),
	tags: zod
		.array(zod.string())
		.optional()
		.describe("The list of tags associated with the sandbox"),
	app_status: zod
		.enum(["NONE", "RUNNING", "ENDED", "FAILED"])
		.optional()
		.describe("The current application status of the sandbox"),
	boot_logs: zod
		.array(zod.string())
		.optional()
		.describe("The boot logs of the sandbox"),
	setup_status: zod
		.enum(["INPROGRESS", "SUCCESS", "FAILED"])
		.optional()
		.describe("The current setup status of the sandbox"),
	endpoints: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				name: zod.string().describe("The name of the tunnel"),
				endpoint: zod.string().describe("The endpoint URL of the tunnel"),
				type: zod
					.enum(["TCP", "TLS", "HTTP", "SSH"])
					.describe("The type of the tunnel"),
				region: zod
					.enum(["US", "EU", "AS"])
					.describe("The region where the tunnel is deployed"),
				whitelist: zod
					.array(zod.string())
					.optional()
					.describe("The IP addresses or domains allowed to access the tunnel"),
				timeout: zod
					.number()
					.optional()
					.describe("The connection timeout of the tunnel in seconds"),
				http: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						verify_certificate: zod
							.boolean()
							.optional()
							.describe("Whether to verify SSL/TLS certificates"),
						compression: zod
							.boolean()
							.optional()
							.describe("Enable HTTP compression"),
						http2: zod
							.boolean()
							.optional()
							.describe("Enable HTTP/2 protocol support"),
						log_requests: zod
							.boolean()
							.optional()
							.describe("Log incoming HTTP requests"),
						request_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to requests"),
						whitelist_user_agents: zod
							.array(zod.string())
							.optional()
							.describe("List of allowed User-Agent strings"),
						rewrite_host_header: zod
							.string()
							.optional()
							.describe("Rewrite the Host header to this value"),
						response_headers: zod
							.array(zod.record(zod.string(), zod.string()))
							.optional()
							.describe("Custom HTTP headers to add to responses"),
						login: zod
							.string()
							.optional()
							.describe("Basic authentication username"),
						password: zod
							.string()
							.optional()
							.describe("Basic authentication password"),
						tls_ca: zod
							.string()
							.optional()
							.describe("Custom TLS Certificate Authority"),
						circuit_breaker: zod
							.number()
							.optional()
							.describe(
								"Circuit breaker threshold (number of failed requests)",
							),
						serve_path: zod
							.string()
							.optional()
							.describe("Base path for serving requests"),
						auth_type: zod
							.enum(["NONE", "BASIC", "BUDDY"])
							.optional()
							.describe("Type of authentication used"),
					})
					.optional()
					.describe("The HTTP-specific settings of the tunnel"),
				tls: zod
					.object({
						url: zod
							.string()
							.optional()
							.describe("API endpoint to GET this object"),
						html_url: zod
							.string()
							.optional()
							.describe("Web URL to view this object in Buddy.works"),
						private_key: zod
							.string()
							.optional()
							.describe("Private key for TLS certificate"),
						certificate: zod.string().optional().describe("TLS certificate"),
						ca_certificate: zod
							.string()
							.optional()
							.describe("Certificate Authority certificate"),
						terminate_at: zod
							.enum(["REGION", "AGENT", "TARGET"])
							.optional()
							.describe("Where to terminate TLS connection"),
					})
					.optional()
					.describe("The TLS/SSL encryption settings of the tunnel"),
				endpoint_url: zod.string().optional().describe("The url of the tunnel"),
			}),
		)
		.optional()
		.describe("The tunnel endpoints of the sandbox"),
	project: zod
		.object({
			url: zod.string().optional().describe("API endpoint to GET this object"),
			html_url: zod
				.string()
				.optional()
				.describe("Web URL to view this object in Buddy.works"),
			name: zod
				.string()
				.optional()
				.describe("The human-readable ID of the project"),
			display_name: zod.string().describe("The Name of the project"),
			status: zod.string().optional().describe("The status of the project"),
			access: zod
				.enum(["PRIVATE", "PUBLIC"])
				.optional()
				.describe("Indicates if this is a public project"),
			create_date: zod.iso
				.datetime({})
				.optional()
				.describe("The creation date of the project"),
			external_project_id: zod
				.string()
				.optional()
				.describe(
					"Repo slug of the Bitbucket, GitHub or GitLab project. Required when adding the integrated project",
				),
			git_lab_project_id: zod
				.number()
				.optional()
				.describe("ID of the project in GitLab"),
			custom_repo_url: zod
				.string()
				.optional()
				.describe(
					"SSH or HTTPS url of the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_user: zod
				.string()
				.optional()
				.describe(
					"Username used to authorize access to the git repository. Required when adding the project integrated with custom git repository",
				),
			custom_repo_pass: zod
				.string()
				.optional()
				.describe(
					"Password used to authorize access to the git repository. Required when adding the project integrated with custom git repository and the provided `custom_repo_url` is the HTTPS url",
				),
			custom_repo_ssh_key_id: zod
				.number()
				.optional()
				.describe(
					"The ID of the private SSH key used to authorize access to the git repository. Required when adding the project integrated with private git server by SSH url",
				),
			created_by: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					id: zod.number().optional().describe("The ID of the user"),
					name: zod.string().optional().describe("The name of the user"),
					avatar_url: zod
						.string()
						.optional()
						.describe("The avatar URL of the user"),
					email: zod
						.string()
						.optional()
						.describe("The email address of the user"),
					admin: zod
						.boolean()
						.optional()
						.describe("Whether the user has admin privileges"),
					workspace_owner: zod
						.boolean()
						.optional()
						.describe("Whether the user is workspace owner"),
				})
				.optional()
				.describe("User/member reference"),
			http_repository: zod
				.string()
				.optional()
				.describe("The HTTP repository URL"),
			ssh_repository: zod
				.string()
				.optional()
				.describe("The SSH repository URL"),
			default_branch: zod
				.string()
				.optional()
				.describe("The default branch name"),
			integration: zod
				.object({
					url: zod
						.string()
						.optional()
						.describe("API endpoint to GET this object"),
					html_url: zod
						.string()
						.optional()
						.describe("Web URL to view this object in Buddy.works"),
					identifier: zod
						.string()
						.optional()
						.describe("A human-readable ID of the integration"),
					hash_id: zod
						.string()
						.optional()
						.describe("The unique hash ID of the integration"),
					name: zod.string().optional().describe("The name of the integration"),
					type: zod
						.enum([
							"GIT_HUB",
							"BITBUCKET",
							"GOOGLE",
							"DIGITAL_OCEAN",
							"SLACK",
							"MODULUS",
							"HEROKU",
							"AMAZON",
							"GIT_LAB",
							"SHOPIFY",
							"GIT_HUB_ENTERPRISE",
							"GIT_LAB_ENTERPRISE",
							"PUSHOVER",
							"PUSHBULLET",
							"RACKSPACE",
							"CUSTOM",
							"CLOUDFLARE",
							"NEW_RELIC",
							"SENTRY",
							"ROLLBAR",
							"DATADOG",
							"DO_SPACES",
							"HONEYBADGER",
							"VULTR",
							"SENTRY_ENTERPRISE",
							"LOGGLY",
							"HIP_CHAT",
							"FIREBASE",
							"TELEGRAM",
							"AZURE",
							"UPCLOUD",
							"GHOST_INSPECTOR",
							"NETLIFY",
							"AZURE_CLOUD",
							"MICROSOFT_TEAMS",
							"GOOGLE_SERVICE_ACCOUNT",
							"GOOGLE_PLAY_STORE",
							"DOCKER_HUB",
							"APP_STORE",
							"GIT_HUB_APP",
							"GIT_HUB_APP_ENTERPRISE",
							"GIT_HUB_API",
							"ATOP",
							"SNYK",
							"STACK_HAWK",
							"BLACKFIRE",
							"BACKBLAZE",
							"ONE_LOGIN",
							"OKTA",
							"CONTENTFUL",
						])
						.optional()
						.describe("The type of integration"),
					auth_type: zod
						.enum([
							"OAUTH",
							"TOKEN",
							"API_KEY",
							"APP",
							"APP_SPRYKER",
							"TOKEN_APP_EXTENSION",
							"DEFAULT",
							"OIDC",
							"TRUSTED",
							"APP_RW",
						])
						.optional()
						.describe("The authentication method used by the integration"),
					host_url: zod
						.string()
						.optional()
						.describe("The host URL for custom integrations"),
					webhook_address: zod
						.string()
						.optional()
						.describe("The webhook URL for receiving notifications"),
					atop_url: zod.string().optional().describe("The ATOP service URL"),
					app_id: zod
						.string()
						.optional()
						.describe("The application ID for Azure Cloud integrations"),
					google_project: zod
						.string()
						.optional()
						.describe("The Google Cloud project ID"),
					audience: zod
						.string()
						.optional()
						.describe("The JWT audience for token validation"),
				})
				.optional()
				.describe("Integration reference"),
			fetch_submodules: zod
				.boolean()
				.optional()
				.describe(
					"Defines whether the submodules are fetched during the runs in this project",
				),
			fetch_submodules_env_key: zod
				.string()
				.optional()
				.describe(
					"Name of the key that will be used to authorize while fetching the submodules. Required when `fetch_submodules` is set to `true`",
				),
			allow_pull_requests: zod
				.boolean()
				.optional()
				.describe(
					"Enables/disables pull requests in the project. Available only for projects synchronized with GitHub or GitHub Enterprise repository",
				),
			update_default_branch_from_external: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the default branch will be updated from GitHub/GitLab/Bitbucket.",
				),
			without_repository: zod
				.boolean()
				.optional()
				.describe(
					"If set to true, the project is created without any repository attached.",
				),
		})
		.optional(),
	variables: zod
		.array(
			zod
				.object({
					id: zod.number().optional().describe("The ID of the variable"),
					key: zod.string().optional().describe("The name of the variable"),
					value: zod.string().optional().describe("The value of the variable"),
					type: zod
						.enum([
							"VAR",
							"FILE",
							"SSH_KEY",
							"IOS_KEYCHAIN",
							"IOS_PROVISION_PROFILES",
							"SSH_PUBLIC_KEY",
							"GPG_KEY",
						])
						.optional()
						.describe(
							"The type of the added variable. Can be one of `VAR` or `SSH_KEY`",
						),
					encrypted: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value will be encrypted and hidden",
						),
					settable: zod
						.boolean()
						.optional()
						.describe(
							"If set to `true` the variable value can be set by Buddy actions",
						),
					run_only_settable: zod
						.boolean()
						.optional()
						.describe(
							"Available only if `type=VAR`. If set to `true` the variable value can be set by Buddy actions only for execution time",
						),
					description: zod
						.string()
						.optional()
						.describe("The optional description of the variable"),
					init_path: zod
						.string()
						.optional()
						.describe("Initial path for the variable"),
					defaults: zod
						.string()
						.optional()
						.describe("Default value for the variable"),
					file_path: zod
						.string()
						.optional()
						.describe(
							"Specifies where to copy the file on each run. Set if `type` is `SSH_KEY`",
						),
					file_chmod: zod
						.string()
						.optional()
						.describe(
							"File permission set on copy to a container on each run. Set if `type` is `SSH_KEY`",
						),
					file_place: zod
						.enum(["NONE", "CONTAINER"])
						.optional()
						.describe(
							"Set if `type` is `SSH_KEY`. If it's `NONE`, the variable can be used as a parameter in an action. For `CONTAINER`, the given key is additionally copied to an action container on each run",
						),
					binary: zod
						.boolean()
						.optional()
						.describe("Whether the file is binary"),
					public_value: zod
						.string()
						.optional()
						.describe("Public value for SSH key type variables"),
					key_fingerprint: zod
						.string()
						.optional()
						.describe("Fingerprint of SSH key"),
					checksum: zod
						.string()
						.optional()
						.describe("Checksum of the variable value"),
					password: zod
						.string()
						.optional()
						.describe("Password for certificates"),
					passphrase: zod
						.string()
						.optional()
						.describe("Passphrase for encrypted SSH keys"),
					key_identifier: zod
						.string()
						.optional()
						.describe("GPG key identifier"),
				})
				.describe("The list of variables you can use the action"),
		)
		.optional()
		.describe("The environment variables of the sandbox"),
});

/**
 * @summary Get all snapshots for a project
 */
export const getProjectSnapshotsParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
});

export const getProjectSnapshotsQueryParams = zod.object({
	project_name: zod
		.string()
		.describe("The human-readable ID of the project to filter sandboxes"),
});

export const getProjectSnapshotsResponse = zod.object({
	url: zod.string().optional().describe("API endpoint to GET this object"),
	html_url: zod
		.string()
		.optional()
		.describe("Web URL to view this object in Buddy.works"),
	snapshots: zod
		.array(
			zod.object({
				url: zod
					.string()
					.optional()
					.describe("API endpoint to GET this object"),
				html_url: zod
					.string()
					.optional()
					.describe("Web URL to view this object in Buddy.works"),
				id: zod.string().optional().describe("The ID of the snapshot"),
				name: zod.string().optional().describe("Snapshot name"),
				size: zod.number().optional().describe("Snapshot size in GB"),
				status: zod
					.enum(["CREATING", "CREATED", "DELETING", "FAILED"])
					.optional()
					.describe("Snapshot status"),
				create_date: zod.iso
					.datetime({})
					.optional()
					.describe("Snapshot creation date"),
			}),
		)
		.optional()
		.describe("Collection of snapshots"),
});

/**
 * @summary Delete a snapshot by ID
 */
export const deleteSnapshotParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
	id: zod.string().describe("The ID of the snapshot"),
});

/**
 * @summary Create a new sandbox from YAML configuration
 */
export const addSandboxByYamlParams = zod.object({
	workspace_domain: zod
		.string()
		.describe("The human-readable ID of the workspace"),
});

export const addSandboxByYamlQueryParams = zod.object({
	project_name: zod
		.string()
		.describe("The human-readable ID of the project to filter sandboxes"),
});

export const addSandboxByYamlBody = zod.object({
	yaml: zod
		.string()
		.optional()
		.describe("The base64-encoded YAML configuration of the sandbox"),
});
